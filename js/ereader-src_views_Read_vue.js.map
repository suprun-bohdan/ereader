{"version":3,"file":"ereader-src_views_Read_vue.js?v=600453d2cbc337c66a6c","mappings":"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","sources":["webpack:///ereader/src/components/EpubViewer.vue?vue&type=style&index=0&id=8cf22e98&scoped=true&lang=css","webpack:///ereader/src/views/Read.vue","webpack:///ereader/src/components/EpubViewer.vue","webpack://ereader/./src/components/EpubViewer.vue?6d36","webpack://ereader/./src/components/EpubViewer.vue?d82e","webpack:///ereader/src/components/PdfViewer.vue","webpack://ereader/./src/components/PdfViewer.vue?3e51","webpack://ereader/./src/components/PdfViewer.vue?c570","webpack://ereader/./src/views/Read.vue?636c","webpack://ereader/./src/views/Read.vue?038f","webpack:///ereader/src/views/Read.vue?vue&type=style&index=0&id=7465632c&scoped=true&lang=css","webpack:///ereader/src/components/PdfViewer.vue?vue&type=style&index=0&id=4121b030&scoped=true&lang=css"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.epub-viewer[data-v-8cf22e98] {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n.epub-viewer__area[data-v-8cf22e98] {\n\twidth: 100%;\n\theight: 100%;\n\tbackground: var(--color-main-background, #fff);\n}\n.epub-viewer__loading[data-v-8cf22e98],\n.epub-viewer__error[data-v-8cf22e98] {\n\tposition: absolute;\n\tinset: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 2rem;\n\ttext-align: center;\n}\n.epub-viewer__error[data-v-8cf22e98] {\n\tcolor: var(--color-error, #c00);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/EpubViewer.vue\"],\"names\":[],\"mappings\":\";AAwDA;CACC,kBAAkB;CAClB,WAAW;CACX,YAAY;AACb;AACA;CACC,WAAW;CACX,YAAY;CACZ,8CAA8C;AAC/C;AACA;;CAEC,kBAAkB;CAClB,QAAQ;CACR,aAAa;CACb,mBAAmB;CACnB,uBAAuB;CACvB,aAAa;CACb,kBAAkB;AACnB;AACA;CACC,+BAA+B;AAChC\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"epub-viewer\\\">\\n\\t\\t<div ref=\\\"viewerEl\\\" class=\\\"epub-viewer__area\\\"></div>\\n\\t\\t<div v-if=\\\"loading\\\" class=\\\"epub-viewer__loading\\\">{{ t('ereader', 'Loading…') }}</div>\\n\\t\\t<div v-else-if=\\\"error\\\" class=\\\"epub-viewer__error\\\">{{ error }}</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport { translate as t } from '@nextcloud/l10n'\\n\\nexport default {\\n\\tname: 'EpubViewer',\\n\\tprops: {\\n\\t\\turl: { type: String, required: true },\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tloading: true,\\n\\t\\t\\terror: '',\\n\\t\\t\\trendition: null,\\n\\t\\t\\tbook: null,\\n\\t\\t}\\n\\t},\\n\\tasync mounted() {\\n\\t\\ttry {\\n\\t\\t\\tconst { default: ePub } = await import('epubjs')\\n\\t\\t\\tthis.book = ePub(this.url)\\n\\t\\t\\tawait this.book.ready\\n\\t\\t\\tthis.rendition = this.book.renderTo(this.$refs.viewerEl, {\\n\\t\\t\\t\\twidth: '100%',\\n\\t\\t\\t\\theight: '100%',\\n\\t\\t\\t\\tspread: 'none',\\n\\t\\t\\t})\\n\\t\\t\\tawait this.rendition.display()\\n\\t\\t\\tthis.loading = false\\n\\t\\t} catch (e) {\\n\\t\\t\\tthis.error = e.message || this.t('ereader', 'Failed to load book')\\n\\t\\t\\tthis.loading = false\\n\\t\\t}\\n\\t},\\n\\tbeforeUnmount() {\\n\\t\\tif (this.rendition) {\\n\\t\\t\\tthis.rendition.destroy()\\n\\t\\t}\\n\\t\\tif (this.book) {\\n\\t\\t\\tthis.book.destroy()\\n\\t\\t}\\n\\t},\\n\\tmethods: {\\n\\t\\tt,\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.epub-viewer {\\n\\tposition: relative;\\n\\twidth: 100%;\\n\\theight: 100%;\\n}\\n.epub-viewer__area {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tbackground: var(--color-main-background, #fff);\\n}\\n.epub-viewer__loading,\\n.epub-viewer__error {\\n\\tposition: absolute;\\n\\tinset: 0;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tpadding: 2rem;\\n\\ttext-align: center;\\n}\\n.epub-viewer__error {\\n\\tcolor: var(--color-error, #c00);\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<template>\n\t<div class=\"ereader-read\">\n\t\t<header v-if=\"!isMobile\" class=\"ereader-read__header\">\n\t\t\t<router-link :to=\"{ name: 'Library' }\" class=\"ereader-read__back\">{{ t('ereader', 'Back to library') }}</router-link>\n\t\t</header>\n\t\t<div class=\"ereader-read__area\">\n\t\t\t<div v-if=\"error\" class=\"ereader-read__error\">{{ error }}</div>\n\t\t\t<div v-else-if=\"!isEpub && loadingPdf\" class=\"ereader-read__loading\">{{ t('ereader', 'Loading…') }}</div>\n\t\t\t<EpubViewer v-else-if=\"isEpub\" :url=\"streamUrl\" />\n\t\t\t<PdfViewer v-else-if=\"pdfBlob\" :blob=\"pdfBlob\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { getStreamUrl, getStreamBlob } from '../router/api'\nimport { translate as t } from '@nextcloud/l10n'\nimport EpubViewer from '../components/EpubViewer.vue'\nimport PdfViewer from '../components/PdfViewer.vue'\n\nconst MIME_EPUB = 'application/epub+zip'\nconst MOBILE_BREAKPOINT = 768\n\nexport default {\n\tname: 'Read',\n\tcomponents: { EpubViewer, PdfViewer },\n\tprops: {\n\t\tfileId: {\n\t\t\ttype: [String, Number],\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\terror: '',\n\t\t\tloadingPdf: false,\n\t\t\tpdfBlob: null,\n\t\t\twindowWidth: typeof window !== 'undefined' ? window.innerWidth : 1024,\n\t\t}\n\t},\n\tcomputed: {\n\t\tstreamUrl() {\n\t\t\treturn getStreamUrl(Number(this.fileId))\n\t\t},\n\t\tisEpub() {\n\t\t\treturn this.$route.query?.mime === MIME_EPUB\n\t\t},\n\t\tisMobile() {\n\t\t\treturn this.windowWidth <= MOBILE_BREAKPOINT\n\t\t},\n\t},\n\tasync mounted() {\n\t\twindow.addEventListener('resize', this.onResize)\n\t\tif (this.isEpub) return\n\t\tthis.loadingPdf = true\n\t\tthis.error = ''\n\t\ttry {\n\t\t\tthis.pdfBlob = await getStreamBlob(Number(this.fileId))\n\t\t} catch (e) {\n\t\t\tthis.error = e.response?.status === 403\n\t\t\t\t? t('ereader', 'Access denied. Please refresh the page and try again.')\n\t\t\t\t: (e.message || t('ereader', 'Failed to load the file.'))\n\t\t} finally {\n\t\t\tthis.loadingPdf = false\n\t\t}\n\t},\n\tbeforeUnmount() {\n\t\twindow.removeEventListener('resize', this.onResize)\n\t\tthis.pdfBlob = null\n\t},\n\tmethods: {\n\t\tt,\n\t\tonResize() {\n\t\t\tthis.windowWidth = window.innerWidth\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.ereader-read {\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tmin-height: 0;\n\twidth: 100%;\n\tmax-width: 100vw;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n}\n.ereader-read__header {\n\tflex-shrink: 0;\n\tpadding: 0.5rem 1rem;\n\tbackground: var(--ereader-action-bar);\n\tcolor: var(--ereader-primary-text);\n\tborder-bottom: 1px solid var(--ereader-border);\n}\n.ereader-read__back {\n\tcolor: inherit;\n\ttext-decoration: none;\n\tfont-weight: 500;\n}\n.ereader-read__back:hover {\n\ttext-decoration: underline;\n}\n.ereader-read__area {\n\tflex: 1;\n\tposition: relative;\n\tmin-height: 0;\n\twidth: 100%;\n\toverflow: hidden;\n}\n.ereader-read__error,\n.ereader-read__loading {\n\tposition: absolute;\n\tinset: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 2rem;\n\ttext-align: center;\n\tcolor: var(--ereader-text-secondary);\n}\n.ereader-read__error {\n\tcolor: var(--ereader-error);\n}\n</style>\n","<template>\n\t<div class=\"epub-viewer\">\n\t\t<div ref=\"viewerEl\" class=\"epub-viewer__area\"></div>\n\t\t<div v-if=\"loading\" class=\"epub-viewer__loading\">{{ t('ereader', 'Loading…') }}</div>\n\t\t<div v-else-if=\"error\" class=\"epub-viewer__error\">{{ error }}</div>\n\t</div>\n</template>\n\n<script>\nimport { translate as t } from '@nextcloud/l10n'\n\nexport default {\n\tname: 'EpubViewer',\n\tprops: {\n\t\turl: { type: String, required: true },\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading: true,\n\t\t\terror: '',\n\t\t\trendition: null,\n\t\t\tbook: null,\n\t\t}\n\t},\n\tasync mounted() {\n\t\ttry {\n\t\t\tconst { default: ePub } = await import('epubjs')\n\t\t\tthis.book = ePub(this.url)\n\t\t\tawait this.book.ready\n\t\t\tthis.rendition = this.book.renderTo(this.$refs.viewerEl, {\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%',\n\t\t\t\tspread: 'none',\n\t\t\t})\n\t\t\tawait this.rendition.display()\n\t\t\tthis.loading = false\n\t\t} catch (e) {\n\t\t\tthis.error = e.message || this.t('ereader', 'Failed to load book')\n\t\t\tthis.loading = false\n\t\t}\n\t},\n\tbeforeUnmount() {\n\t\tif (this.rendition) {\n\t\t\tthis.rendition.destroy()\n\t\t}\n\t\tif (this.book) {\n\t\t\tthis.book.destroy()\n\t\t}\n\t},\n\tmethods: {\n\t\tt,\n\t},\n}\n</script>\n\n<style scoped>\n.epub-viewer {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n.epub-viewer__area {\n\twidth: 100%;\n\theight: 100%;\n\tbackground: var(--color-main-background, #fff);\n}\n.epub-viewer__loading,\n.epub-viewer__error {\n\tposition: absolute;\n\tinset: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 2rem;\n\ttext-align: center;\n}\n.epub-viewer__error {\n\tcolor: var(--color-error, #c00);\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[11].use[0]!./EpubViewer.vue?vue&type=style&index=0&id=8cf22e98&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[11].use[0]!./EpubViewer.vue?vue&type=style&index=0&id=8cf22e98&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render } from \"./EpubViewer.vue?vue&type=template&id=8cf22e98&scoped=true\"\nimport script from \"./EpubViewer.vue?vue&type=script&lang=js\"\nexport * from \"./EpubViewer.vue?vue&type=script&lang=js\"\n\nimport \"./EpubViewer.vue?vue&type=style&index=0&id=8cf22e98&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8cf22e98\"]])\n\nexport default __exports__","<template>\n\t<div class=\"pdf-viewer\">\n\t\t<header v-if=\"!loading && !error\" class=\"pdf-viewer__toolbar\">\n\t\t\t<div class=\"pdf-viewer__toolbar-group\">\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"pdf-viewer__btn\"\n\t\t\t\t\t:title=\"t('ereader', 'Zoom out')\"\n\t\t\t\t\t:disabled=\"scaleFactor <= minScale\"\n\t\t\t\t\t@click=\"zoomOut\"\n\t\t\t\t>\n\t\t\t\t\t<svg class=\"pdf-viewer__icon\" viewBox=\"0 0 24 24\" fill=\"currentColor\" aria-hidden=\"true\">\n\t\t\t\t\t\t<path d=\"M19 13H5v-2h14v2z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t<span class=\"pdf-viewer__scale\">{{ scalePercent }}%</span>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"pdf-viewer__btn\"\n\t\t\t\t\t:title=\"t('ereader', 'Zoom in')\"\n\t\t\t\t\t:disabled=\"scaleFactor >= maxScale\"\n\t\t\t\t\t@click=\"zoomIn\"\n\t\t\t\t>\n\t\t\t\t\t<svg class=\"pdf-viewer__icon\" viewBox=\"0 0 24 24\" fill=\"currentColor\" aria-hidden=\"true\">\n\t\t\t\t\t\t<path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclass=\"pdf-viewer__btn pdf-viewer__btn--text\"\n\t\t\t\t:title=\"t('ereader', 'Fit to width')\"\n\t\t\t\t@click=\"fitWidth\"\n\t\t\t>\n\t\t\t\t{{ t('ereader', 'Fit width') }}\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclass=\"pdf-viewer__btn pdf-viewer__btn--text\"\n\t\t\t\t:title=\"t('ereader', 'Fit page')\"\n\t\t\t\t@click=\"fitPage\"\n\t\t\t>\n\t\t\t\t{{ t('ereader', 'Fit page') }}\n\t\t\t</button>\n\t\t\t<div class=\"pdf-viewer__toolbar-group pdf-viewer__toolbar-group--page\">\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"pdf-viewer__btn\"\n\t\t\t\t\t:title=\"t('ereader', 'Previous page')\"\n\t\t\t\t\t:disabled=\"currentPage <= 1\"\n\t\t\t\t\t@click=\"goToPage(currentPage - 1)\"\n\t\t\t\t>\n\t\t\t\t\t<svg class=\"pdf-viewer__icon\" viewBox=\"0 0 24 24\" fill=\"currentColor\" aria-hidden=\"true\">\n\t\t\t\t\t\t<path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t<span class=\"pdf-viewer__page-indicator\">\n\t\t\t\t\t{{ t('ereader', 'Page') }} {{ currentPage }} / {{ numPages }}\n\t\t\t\t</span>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"pdf-viewer__btn\"\n\t\t\t\t\t:title=\"t('ereader', 'Next page')\"\n\t\t\t\t\t:disabled=\"currentPage >= numPages\"\n\t\t\t\t\t@click=\"goToPage(currentPage + 1)\"\n\t\t\t\t>\n\t\t\t\t\t<svg class=\"pdf-viewer__icon\" viewBox=\"0 0 24 24\" fill=\"currentColor\" aria-hidden=\"true\">\n\t\t\t\t\t\t<path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</header>\n\t\t<div ref=\"scrollEl\" class=\"pdf-viewer__scroll\" @scroll=\"onScroll\">\n\t\t\t<div ref=\"containerEl\" class=\"pdf-viewer__container\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"pageNum in numPages\"\n\t\t\t\t\t:key=\"pageNum\"\n\t\t\t\t\t:ref=\"(el) => setPageWrapRef(el, pageNum)\"\n\t\t\t\t\tclass=\"pdf-viewer__page-wrap\"\n\t\t\t\t\t:data-page=\"pageNum\"\n\t\t\t\t>\n\t\t\t\t\t<canvas\n\t\t\t\t\t\t:ref=\"(el) => setCanvasRef(el, pageNum)\"\n\t\t\t\t\t\tclass=\"pdf-viewer__page\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-if=\"loading\" class=\"pdf-viewer__loading\">{{ t('ereader', 'Loading…') }}</div>\n\t\t<div v-else-if=\"error\" class=\"pdf-viewer__error\">{{ error }}</div>\n\t</div>\n</template>\n\n<script>\nimport { markRaw } from 'vue'\nimport { translate as t } from '@nextcloud/l10n'\nimport { generateUrl } from '@nextcloud/router'\nimport * as pdfjsLib from 'pdfjs-dist'\n\nif (typeof window !== 'undefined' && !pdfjsLib.GlobalWorkerOptions.workerSrc) {\n\tpdfjsLib.GlobalWorkerOptions.workerSrc = generateUrl('/apps/ereader/js/pdf.worker.js')\n}\n\nconst MIN_SCALE = 0.5\nconst MAX_SCALE = 3\nconst ZOOM_STEP = 0.25\n\nexport default {\n\tname: 'PdfViewer',\n\tprops: {\n\t\tblob: {\n\t\t\ttype: Blob,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading: true,\n\t\t\terror: '',\n\t\t\tnumPages: 0,\n\t\t\tpdfDoc: null,\n\t\t\tcanvasRefs: {},\n\t\t\tpageWrapRefs: {},\n\t\t\tscaleFactor: 1,\n\t\t\tcurrentPage: 1,\n\t\t\tminScale: MIN_SCALE,\n\t\t\tmaxScale: MAX_SCALE,\n\t\t\tpixelRatio: typeof window !== 'undefined' ? Math.min(window.devicePixelRatio || 1, 2) : 1,\n\t\t}\n\t},\n\tcomputed: {\n\t\tscalePercent() {\n\t\t\treturn Math.round(this.scaleFactor * 100)\n\t\t},\n\t},\n\tasync mounted() {\n\t\tawait this.loadPdf()\n\t},\n\tbeforeUnmount() {\n\t\tthis.canvasRefs = {}\n\t\tthis.pageWrapRefs = {}\n\t\tif (this.$refs.scrollEl) {\n\t\t\tthis.$refs.scrollEl.removeEventListener('scroll', this.onScroll)\n\t\t}\n\t\tif (this.pdfDoc && typeof this.pdfDoc.destroy === 'function') {\n\t\t\ttry {\n\t\t\t\tthis.pdfDoc.destroy()\n\t\t\t} catch (_) {}\n\t\t\tthis.pdfDoc = null\n\t\t}\n\t},\n\tmethods: {\n\t\tt,\n\t\tsetCanvasRef(el, pageNum) {\n\t\t\tif (el) this.canvasRefs[pageNum] = el\n\t\t},\n\t\tsetPageWrapRef(el, pageNum) {\n\t\t\tif (el) this.pageWrapRefs[pageNum] = el\n\t\t},\n\t\tzoomIn() {\n\t\t\tthis.scaleFactor = Math.min(this.maxScale, this.scaleFactor + ZOOM_STEP)\n\t\t\tthis.$nextTick(() => this.renderAllPages())\n\t\t},\n\t\tzoomOut() {\n\t\t\tthis.scaleFactor = Math.max(this.minScale, this.scaleFactor - ZOOM_STEP)\n\t\t\tthis.$nextTick(() => this.renderAllPages())\n\t\t},\n\t\tfitWidth() {\n\t\t\tthis.scaleFactor = 1\n\t\t\tthis.$nextTick(() => this.renderAllPages())\n\t\t},\n\t\tfitPage() {\n\t\t\tthis.scaleFactor = this.fitPageScale\n\t\t\tthis.$nextTick(() => this.renderAllPages())\n\t\t},\n\t\tgoToPage(pageNum) {\n\t\t\tconst n = Math.max(1, Math.min(this.numPages, pageNum))\n\t\t\tthis.currentPage = n\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tconst el = this.pageWrapRefs[n]\n\t\t\t\tif (el && this.$refs.scrollEl) {\n\t\t\t\t\tel.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' })\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tonScroll() {\n\t\t\tconst scrollEl = this.$refs.scrollEl\n\t\t\tif (!scrollEl || this.numPages === 0) return\n\t\t\tconst scrollLeft = scrollEl.scrollLeft\n\t\t\tconst viewportCenter = scrollLeft + scrollEl.clientWidth / 2\n\t\t\tlet page = 1\n\t\t\tlet bestDist = Infinity\n\t\t\tfor (let n = 1; n <= this.numPages; n++) {\n\t\t\t\tconst wrap = this.pageWrapRefs[n]\n\t\t\t\tif (!wrap) continue\n\t\t\t\tconst wrapCenter = wrap.offsetLeft + wrap.offsetWidth / 2\n\t\t\t\tconst dist = Math.abs(viewportCenter - wrapCenter)\n\t\t\t\tif (dist < bestDist) {\n\t\t\t\t\tbestDist = dist\n\t\t\t\t\tpage = n\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.currentPage = page\n\t\t},\n\t\tasync loadPdf() {\n\t\t\tthis.loading = true\n\t\t\tthis.error = ''\n\t\t\ttry {\n\t\t\t\tconst data = await this.blob.arrayBuffer()\n\t\t\t\tconst doc = await pdfjsLib.getDocument({ data }).promise\n\t\t\t\tthis.pdfDoc = markRaw(doc)\n\t\t\t\tthis.numPages = this.pdfDoc.numPages\n\t\t\t\tthis.loading = false\n\t\t\t\tawait this.$nextTick()\n\t\t\t\tawait this.$nextTick()\n\t\t\t\tawait this.computeFitPageScale()\n\t\t\t\tthis.scaleFactor = this.fitPageScale\n\t\t\t\tawait this.renderAllPages()\n\t\t\t\tif (this.$refs.scrollEl) {\n\t\t\t\t\tthis.$refs.scrollEl.addEventListener('scroll', this.onScroll, { passive: true })\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tthis.error = e.message || t('ereader', 'Failed to load PDF')\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\tasync computeFitPageScale() {\n\t\t\tif (!this.pdfDoc || !this.$refs.scrollEl) return\n\t\t\tconst scrollEl = this.$refs.scrollEl\n\t\t\tconst w = scrollEl.clientWidth || 800\n\t\t\tconst h = scrollEl.clientHeight || 600\n\t\t\tconst firstPage = await this.pdfDoc.getPage(1)\n\t\t\tconst vp = firstPage.getViewport({ scale: 1 })\n\t\t\tconst scaleW = w / vp.width\n\t\t\tconst scaleH = h / vp.height\n\t\t\tthis.fitPageScale = Math.min(scaleW, scaleH, this.maxScale)\n\t\t\tif (this.scaleFactor === 1) {\n\t\t\t\tthis.scaleFactor = this.fitPageScale\n\t\t\t}\n\t\t},\n\t\tasync renderAllPages() {\n\t\t\tif (!this.pdfDoc || !this.$refs.containerEl || !this.$refs.scrollEl) return\n\t\t\tconst scrollEl = this.$refs.scrollEl\n\t\t\tconst baseWidth = scrollEl.clientWidth || 800\n\t\t\tfor (let n = 1; n <= this.numPages; n++) {\n\t\t\t\tconst canvas = this.canvasRefs[n]\n\t\t\t\tif (!canvas) continue\n\t\t\t\tconst page = await this.pdfDoc.getPage(n)\n\t\t\t\tconst vp1 = page.getViewport({ scale: 1 })\n\t\t\t\tconst baseScale = baseWidth / vp1.width\n\t\t\t\tconst effectiveScale = baseScale * this.scaleFactor * this.pixelRatio\n\t\t\t\tconst viewport = page.getViewport({ scale: effectiveScale })\n\t\t\t\tcanvas.width = viewport.width\n\t\t\t\tcanvas.height = viewport.height\n\t\t\t\tcanvas.style.width = (viewport.width / this.pixelRatio) + 'px'\n\t\t\t\tcanvas.style.height = (viewport.height / this.pixelRatio) + 'px'\n\t\t\t\tconst ctx = canvas.getContext('2d')\n\t\t\t\tawait page.render({\n\t\t\t\t\tcanvasContext: ctx,\n\t\t\t\t\tviewport,\n\t\t\t\t}).promise\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.pdf-viewer {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground: var(--ereader-surface);\n}\n\n.pdf-viewer__toolbar {\n\tflex-shrink: 0;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tgap: 0.5rem 1rem;\n\tpadding: 0.5rem 0.75rem;\n\tbackground: var(--ereader-action-bar);\n\tcolor: var(--ereader-primary-text);\n\tborder-bottom: 1px solid var(--ereader-border);\n}\n\n.pdf-viewer__toolbar-group {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.25rem;\n}\n\n.pdf-viewer__toolbar-group--page {\n\tmargin-left: auto;\n}\n\n.pdf-viewer__btn {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmin-width: 36px;\n\theight: 36px;\n\tpadding: 0 0.5rem;\n\tborder: none;\n\tborder-radius: var(--ereader-radius-sm);\n\tbackground: transparent;\n\tcolor: inherit;\n\tcursor: pointer;\n\ttransition: background 0.15s;\n}\n\n.pdf-viewer__btn:hover:not(:disabled) {\n\tbackground: rgba(255, 255, 255, 0.2);\n}\n\n.pdf-viewer__btn:disabled {\n\topacity: 0.5;\n\tcursor: not-allowed;\n}\n\n.pdf-viewer__btn--text {\n\tfont-size: 0.875rem;\n}\n\n.pdf-viewer__icon {\n\twidth: 24px;\n\theight: 24px;\n}\n\n.pdf-viewer__scale {\n\tmin-width: 3.5em;\n\tfont-size: 0.875rem;\n\ttext-align: center;\n}\n\n.pdf-viewer__page-indicator {\n\tfont-size: 0.875rem;\n\twhite-space: nowrap;\n}\n\n.pdf-viewer__scroll {\n\tflex: 1;\n\tmin-height: 0;\n\toverflow-x: auto;\n\toverflow-y: auto;\n\tscroll-behavior: smooth;\n\tscroll-snap-type: x mandatory;\n}\n\n.pdf-viewer__container {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: flex-start;\n\tjustify-content: flex-start;\n\tpadding: 1rem;\n\tgap: 1rem;\n\tmin-height: min-content;\n}\n\n.pdf-viewer__page-wrap {\n\tflex: 0 0 auto;\n\tscroll-snap-align: center;\n\tscroll-snap-stop: always;\n}\n\n.pdf-viewer__page {\n\tdisplay: block;\n\tmax-width: 100%;\n\theight: auto;\n\tbox-shadow: var(--ereader-card-shadow);\n}\n\n.pdf-viewer__loading,\n.pdf-viewer__error {\n\tposition: absolute;\n\tinset: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 2rem;\n\ttext-align: center;\n\tcolor: var(--ereader-text-secondary);\n\tbackground: var(--ereader-surface);\n}\n\n.pdf-viewer__error {\n\tcolor: var(--ereader-error);\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[11].use[0]!./PdfViewer.vue?vue&type=style&index=0&id=4121b030&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[11].use[0]!./PdfViewer.vue?vue&type=style&index=0&id=4121b030&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render } from \"./PdfViewer.vue?vue&type=template&id=4121b030&scoped=true\"\nimport script from \"./PdfViewer.vue?vue&type=script&lang=js\"\nexport * from \"./PdfViewer.vue?vue&type=script&lang=js\"\n\nimport \"./PdfViewer.vue?vue&type=style&index=0&id=4121b030&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4121b030\"]])\n\nexport default __exports__","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[11].use[0]!./Read.vue?vue&type=style&index=0&id=7465632c&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[11].use[0]!./Read.vue?vue&type=style&index=0&id=7465632c&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render } from \"./Read.vue?vue&type=template&id=7465632c&scoped=true\"\nimport script from \"./Read.vue?vue&type=script&lang=js\"\nexport * from \"./Read.vue?vue&type=script&lang=js\"\n\nimport \"./Read.vue?vue&type=style&index=0&id=7465632c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7465632c\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.ereader-read[data-v-7465632c] {\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tmin-height: 0;\n\twidth: 100%;\n\tmax-width: 100vw;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n}\n.ereader-read__header[data-v-7465632c] {\n\tflex-shrink: 0;\n\tpadding: 0.5rem 1rem;\n\tbackground: var(--ereader-action-bar);\n\tcolor: var(--ereader-primary-text);\n\tborder-bottom: 1px solid var(--ereader-border);\n}\n.ereader-read__back[data-v-7465632c] {\n\tcolor: inherit;\n\ttext-decoration: none;\n\tfont-weight: 500;\n}\n.ereader-read__back[data-v-7465632c]:hover {\n\ttext-decoration: underline;\n}\n.ereader-read__area[data-v-7465632c] {\n\tflex: 1;\n\tposition: relative;\n\tmin-height: 0;\n\twidth: 100%;\n\toverflow: hidden;\n}\n.ereader-read__error[data-v-7465632c],\n.ereader-read__loading[data-v-7465632c] {\n\tposition: absolute;\n\tinset: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 2rem;\n\ttext-align: center;\n\tcolor: var(--ereader-text-secondary);\n}\n.ereader-read__error[data-v-7465632c] {\n\tcolor: var(--ereader-error);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/Read.vue\"],\"names\":[],\"mappings\":\";AAgFA;CACC,aAAa;CACb,sBAAsB;CACtB,YAAY;CACZ,aAAa;CACb,WAAW;CACX,gBAAgB;CAChB,sBAAsB;CACtB,gBAAgB;AACjB;AACA;CACC,cAAc;CACd,oBAAoB;CACpB,qCAAqC;CACrC,kCAAkC;CAClC,8CAA8C;AAC/C;AACA;CACC,cAAc;CACd,qBAAqB;CACrB,gBAAgB;AACjB;AACA;CACC,0BAA0B;AAC3B;AACA;CACC,OAAO;CACP,kBAAkB;CAClB,aAAa;CACb,WAAW;CACX,gBAAgB;AACjB;AACA;;CAEC,kBAAkB;CAClB,QAAQ;CACR,aAAa;CACb,mBAAmB;CACnB,uBAAuB;CACvB,aAAa;CACb,kBAAkB;CAClB,oCAAoC;AACrC;AACA;CACC,2BAA2B;AAC5B\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"ereader-read\\\">\\n\\t\\t<header v-if=\\\"!isMobile\\\" class=\\\"ereader-read__header\\\">\\n\\t\\t\\t<router-link :to=\\\"{ name: 'Library' }\\\" class=\\\"ereader-read__back\\\">{{ t('ereader', 'Back to library') }}</router-link>\\n\\t\\t</header>\\n\\t\\t<div class=\\\"ereader-read__area\\\">\\n\\t\\t\\t<div v-if=\\\"error\\\" class=\\\"ereader-read__error\\\">{{ error }}</div>\\n\\t\\t\\t<div v-else-if=\\\"!isEpub && loadingPdf\\\" class=\\\"ereader-read__loading\\\">{{ t('ereader', 'Loading…') }}</div>\\n\\t\\t\\t<EpubViewer v-else-if=\\\"isEpub\\\" :url=\\\"streamUrl\\\" />\\n\\t\\t\\t<PdfViewer v-else-if=\\\"pdfBlob\\\" :blob=\\\"pdfBlob\\\" />\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport { getStreamUrl, getStreamBlob } from '../router/api'\\nimport { translate as t } from '@nextcloud/l10n'\\nimport EpubViewer from '../components/EpubViewer.vue'\\nimport PdfViewer from '../components/PdfViewer.vue'\\n\\nconst MIME_EPUB = 'application/epub+zip'\\nconst MOBILE_BREAKPOINT = 768\\n\\nexport default {\\n\\tname: 'Read',\\n\\tcomponents: { EpubViewer, PdfViewer },\\n\\tprops: {\\n\\t\\tfileId: {\\n\\t\\t\\ttype: [String, Number],\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\terror: '',\\n\\t\\t\\tloadingPdf: false,\\n\\t\\t\\tpdfBlob: null,\\n\\t\\t\\twindowWidth: typeof window !== 'undefined' ? window.innerWidth : 1024,\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tstreamUrl() {\\n\\t\\t\\treturn getStreamUrl(Number(this.fileId))\\n\\t\\t},\\n\\t\\tisEpub() {\\n\\t\\t\\treturn this.$route.query?.mime === MIME_EPUB\\n\\t\\t},\\n\\t\\tisMobile() {\\n\\t\\t\\treturn this.windowWidth <= MOBILE_BREAKPOINT\\n\\t\\t},\\n\\t},\\n\\tasync mounted() {\\n\\t\\twindow.addEventListener('resize', this.onResize)\\n\\t\\tif (this.isEpub) return\\n\\t\\tthis.loadingPdf = true\\n\\t\\tthis.error = ''\\n\\t\\ttry {\\n\\t\\t\\tthis.pdfBlob = await getStreamBlob(Number(this.fileId))\\n\\t\\t} catch (e) {\\n\\t\\t\\tthis.error = e.response?.status === 403\\n\\t\\t\\t\\t? t('ereader', 'Access denied. Please refresh the page and try again.')\\n\\t\\t\\t\\t: (e.message || t('ereader', 'Failed to load the file.'))\\n\\t\\t} finally {\\n\\t\\t\\tthis.loadingPdf = false\\n\\t\\t}\\n\\t},\\n\\tbeforeUnmount() {\\n\\t\\twindow.removeEventListener('resize', this.onResize)\\n\\t\\tthis.pdfBlob = null\\n\\t},\\n\\tmethods: {\\n\\t\\tt,\\n\\t\\tonResize() {\\n\\t\\t\\tthis.windowWidth = window.innerWidth\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.ereader-read {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\theight: 100%;\\n\\tmin-height: 0;\\n\\twidth: 100%;\\n\\tmax-width: 100vw;\\n\\tbox-sizing: border-box;\\n\\toverflow: hidden;\\n}\\n.ereader-read__header {\\n\\tflex-shrink: 0;\\n\\tpadding: 0.5rem 1rem;\\n\\tbackground: var(--ereader-action-bar);\\n\\tcolor: var(--ereader-primary-text);\\n\\tborder-bottom: 1px solid var(--ereader-border);\\n}\\n.ereader-read__back {\\n\\tcolor: inherit;\\n\\ttext-decoration: none;\\n\\tfont-weight: 500;\\n}\\n.ereader-read__back:hover {\\n\\ttext-decoration: underline;\\n}\\n.ereader-read__area {\\n\\tflex: 1;\\n\\tposition: relative;\\n\\tmin-height: 0;\\n\\twidth: 100%;\\n\\toverflow: hidden;\\n}\\n.ereader-read__error,\\n.ereader-read__loading {\\n\\tposition: absolute;\\n\\tinset: 0;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tpadding: 2rem;\\n\\ttext-align: center;\\n\\tcolor: var(--ereader-text-secondary);\\n}\\n.ereader-read__error {\\n\\tcolor: var(--ereader-error);\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.pdf-viewer[data-v-4121b030] {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground: var(--ereader-surface);\n}\n.pdf-viewer__toolbar[data-v-4121b030] {\n\tflex-shrink: 0;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tgap: 0.5rem 1rem;\n\tpadding: 0.5rem 0.75rem;\n\tbackground: var(--ereader-action-bar);\n\tcolor: var(--ereader-primary-text);\n\tborder-bottom: 1px solid var(--ereader-border);\n}\n.pdf-viewer__toolbar-group[data-v-4121b030] {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.25rem;\n}\n.pdf-viewer__toolbar-group--page[data-v-4121b030] {\n\tmargin-left: auto;\n}\n.pdf-viewer__btn[data-v-4121b030] {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmin-width: 36px;\n\theight: 36px;\n\tpadding: 0 0.5rem;\n\tborder: none;\n\tborder-radius: var(--ereader-radius-sm);\n\tbackground: transparent;\n\tcolor: inherit;\n\tcursor: pointer;\n\ttransition: background 0.15s;\n}\n.pdf-viewer__btn[data-v-4121b030]:hover:not(:disabled) {\n\tbackground: rgba(255, 255, 255, 0.2);\n}\n.pdf-viewer__btn[data-v-4121b030]:disabled {\n\topacity: 0.5;\n\tcursor: not-allowed;\n}\n.pdf-viewer__btn--text[data-v-4121b030] {\n\tfont-size: 0.875rem;\n}\n.pdf-viewer__icon[data-v-4121b030] {\n\twidth: 24px;\n\theight: 24px;\n}\n.pdf-viewer__scale[data-v-4121b030] {\n\tmin-width: 3.5em;\n\tfont-size: 0.875rem;\n\ttext-align: center;\n}\n.pdf-viewer__page-indicator[data-v-4121b030] {\n\tfont-size: 0.875rem;\n\twhite-space: nowrap;\n}\n.pdf-viewer__scroll[data-v-4121b030] {\n\tflex: 1;\n\tmin-height: 0;\n\toverflow-x: auto;\n\toverflow-y: auto;\n\tscroll-behavior: smooth;\n\tscroll-snap-type: x mandatory;\n}\n.pdf-viewer__container[data-v-4121b030] {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: flex-start;\n\tjustify-content: flex-start;\n\tpadding: 1rem;\n\tgap: 1rem;\n\tmin-height: min-content;\n}\n.pdf-viewer__page-wrap[data-v-4121b030] {\n\tflex: 0 0 auto;\n\tscroll-snap-align: center;\n\tscroll-snap-stop: always;\n}\n.pdf-viewer__page[data-v-4121b030] {\n\tdisplay: block;\n\tmax-width: 100%;\n\theight: auto;\n\tbox-shadow: var(--ereader-card-shadow);\n}\n.pdf-viewer__loading[data-v-4121b030],\n.pdf-viewer__error[data-v-4121b030] {\n\tposition: absolute;\n\tinset: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 2rem;\n\ttext-align: center;\n\tcolor: var(--ereader-text-secondary);\n\tbackground: var(--ereader-surface);\n}\n.pdf-viewer__error[data-v-4121b030] {\n\tcolor: var(--ereader-error);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/PdfViewer.vue\"],\"names\":[],\"mappings\":\";AA4QA;CACC,kBAAkB;CAClB,WAAW;CACX,YAAY;CACZ,aAAa;CACb,sBAAsB;CACtB,kCAAkC;AACnC;AAEA;CACC,cAAc;CACd,aAAa;CACb,eAAe;CACf,mBAAmB;CACnB,gBAAgB;CAChB,uBAAuB;CACvB,qCAAqC;CACrC,kCAAkC;CAClC,8CAA8C;AAC/C;AAEA;CACC,aAAa;CACb,mBAAmB;CACnB,YAAY;AACb;AAEA;CACC,iBAAiB;AAClB;AAEA;CACC,oBAAoB;CACpB,mBAAmB;CACnB,uBAAuB;CACvB,eAAe;CACf,YAAY;CACZ,iBAAiB;CACjB,YAAY;CACZ,uCAAuC;CACvC,uBAAuB;CACvB,cAAc;CACd,eAAe;CACf,4BAA4B;AAC7B;AAEA;CACC,oCAAoC;AACrC;AAEA;CACC,YAAY;CACZ,mBAAmB;AACpB;AAEA;CACC,mBAAmB;AACpB;AAEA;CACC,WAAW;CACX,YAAY;AACb;AAEA;CACC,gBAAgB;CAChB,mBAAmB;CACnB,kBAAkB;AACnB;AAEA;CACC,mBAAmB;CACnB,mBAAmB;AACpB;AAEA;CACC,OAAO;CACP,aAAa;CACb,gBAAgB;CAChB,gBAAgB;CAChB,uBAAuB;CACvB,6BAA6B;AAC9B;AAEA;CACC,aAAa;CACb,mBAAmB;CACnB,iBAAiB;CACjB,uBAAuB;CACvB,2BAA2B;CAC3B,aAAa;CACb,SAAS;CACT,uBAAuB;AACxB;AAEA;CACC,cAAc;CACd,yBAAyB;CACzB,wBAAwB;AACzB;AAEA;CACC,cAAc;CACd,eAAe;CACf,YAAY;CACZ,sCAAsC;AACvC;AAEA;;CAEC,kBAAkB;CAClB,QAAQ;CACR,aAAa;CACb,mBAAmB;CACnB,uBAAuB;CACvB,aAAa;CACb,kBAAkB;CAClB,oCAAoC;CACpC,kCAAkC;AACnC;AAEA;CACC,2BAA2B;AAC5B\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"pdf-viewer\\\">\\n\\t\\t<header v-if=\\\"!loading && !error\\\" class=\\\"pdf-viewer__toolbar\\\">\\n\\t\\t\\t<div class=\\\"pdf-viewer__toolbar-group\\\">\\n\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\ttype=\\\"button\\\"\\n\\t\\t\\t\\t\\tclass=\\\"pdf-viewer__btn\\\"\\n\\t\\t\\t\\t\\t:title=\\\"t('ereader', 'Zoom out')\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"scaleFactor <= minScale\\\"\\n\\t\\t\\t\\t\\t@click=\\\"zoomOut\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<svg class=\\\"pdf-viewer__icon\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"currentColor\\\" aria-hidden=\\\"true\\\">\\n\\t\\t\\t\\t\\t\\t<path d=\\\"M19 13H5v-2h14v2z\\\"/>\\n\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<span class=\\\"pdf-viewer__scale\\\">{{ scalePercent }}%</span>\\n\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\ttype=\\\"button\\\"\\n\\t\\t\\t\\t\\tclass=\\\"pdf-viewer__btn\\\"\\n\\t\\t\\t\\t\\t:title=\\\"t('ereader', 'Zoom in')\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"scaleFactor >= maxScale\\\"\\n\\t\\t\\t\\t\\t@click=\\\"zoomIn\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<svg class=\\\"pdf-viewer__icon\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"currentColor\\\" aria-hidden=\\\"true\\\">\\n\\t\\t\\t\\t\\t\\t<path d=\\\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\\\"/>\\n\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t\\t<button\\n\\t\\t\\t\\ttype=\\\"button\\\"\\n\\t\\t\\t\\tclass=\\\"pdf-viewer__btn pdf-viewer__btn--text\\\"\\n\\t\\t\\t\\t:title=\\\"t('ereader', 'Fit to width')\\\"\\n\\t\\t\\t\\t@click=\\\"fitWidth\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t{{ t('ereader', 'Fit width') }}\\n\\t\\t\\t</button>\\n\\t\\t\\t<button\\n\\t\\t\\t\\ttype=\\\"button\\\"\\n\\t\\t\\t\\tclass=\\\"pdf-viewer__btn pdf-viewer__btn--text\\\"\\n\\t\\t\\t\\t:title=\\\"t('ereader', 'Fit page')\\\"\\n\\t\\t\\t\\t@click=\\\"fitPage\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t{{ t('ereader', 'Fit page') }}\\n\\t\\t\\t</button>\\n\\t\\t\\t<div class=\\\"pdf-viewer__toolbar-group pdf-viewer__toolbar-group--page\\\">\\n\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\ttype=\\\"button\\\"\\n\\t\\t\\t\\t\\tclass=\\\"pdf-viewer__btn\\\"\\n\\t\\t\\t\\t\\t:title=\\\"t('ereader', 'Previous page')\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"currentPage <= 1\\\"\\n\\t\\t\\t\\t\\t@click=\\\"goToPage(currentPage - 1)\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<svg class=\\\"pdf-viewer__icon\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"currentColor\\\" aria-hidden=\\\"true\\\">\\n\\t\\t\\t\\t\\t\\t<path d=\\\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\\\"/>\\n\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<span class=\\\"pdf-viewer__page-indicator\\\">\\n\\t\\t\\t\\t\\t{{ t('ereader', 'Page') }} {{ currentPage }} / {{ numPages }}\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\ttype=\\\"button\\\"\\n\\t\\t\\t\\t\\tclass=\\\"pdf-viewer__btn\\\"\\n\\t\\t\\t\\t\\t:title=\\\"t('ereader', 'Next page')\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"currentPage >= numPages\\\"\\n\\t\\t\\t\\t\\t@click=\\\"goToPage(currentPage + 1)\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<svg class=\\\"pdf-viewer__icon\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"currentColor\\\" aria-hidden=\\\"true\\\">\\n\\t\\t\\t\\t\\t\\t<path d=\\\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\\\"/>\\n\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t</header>\\n\\t\\t<div ref=\\\"scrollEl\\\" class=\\\"pdf-viewer__scroll\\\" @scroll=\\\"onScroll\\\">\\n\\t\\t\\t<div ref=\\\"containerEl\\\" class=\\\"pdf-viewer__container\\\">\\n\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\tv-for=\\\"pageNum in numPages\\\"\\n\\t\\t\\t\\t\\t:key=\\\"pageNum\\\"\\n\\t\\t\\t\\t\\t:ref=\\\"(el) => setPageWrapRef(el, pageNum)\\\"\\n\\t\\t\\t\\t\\tclass=\\\"pdf-viewer__page-wrap\\\"\\n\\t\\t\\t\\t\\t:data-page=\\\"pageNum\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<canvas\\n\\t\\t\\t\\t\\t\\t:ref=\\\"(el) => setCanvasRef(el, pageNum)\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"pdf-viewer__page\\\"\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div v-if=\\\"loading\\\" class=\\\"pdf-viewer__loading\\\">{{ t('ereader', 'Loading…') }}</div>\\n\\t\\t<div v-else-if=\\\"error\\\" class=\\\"pdf-viewer__error\\\">{{ error }}</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport { markRaw } from 'vue'\\nimport { translate as t } from '@nextcloud/l10n'\\nimport { generateUrl } from '@nextcloud/router'\\nimport * as pdfjsLib from 'pdfjs-dist'\\n\\nif (typeof window !== 'undefined' && !pdfjsLib.GlobalWorkerOptions.workerSrc) {\\n\\tpdfjsLib.GlobalWorkerOptions.workerSrc = generateUrl('/apps/ereader/js/pdf.worker.js')\\n}\\n\\nconst MIN_SCALE = 0.5\\nconst MAX_SCALE = 3\\nconst ZOOM_STEP = 0.25\\n\\nexport default {\\n\\tname: 'PdfViewer',\\n\\tprops: {\\n\\t\\tblob: {\\n\\t\\t\\ttype: Blob,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tloading: true,\\n\\t\\t\\terror: '',\\n\\t\\t\\tnumPages: 0,\\n\\t\\t\\tpdfDoc: null,\\n\\t\\t\\tcanvasRefs: {},\\n\\t\\t\\tpageWrapRefs: {},\\n\\t\\t\\tscaleFactor: 1,\\n\\t\\t\\tcurrentPage: 1,\\n\\t\\t\\tminScale: MIN_SCALE,\\n\\t\\t\\tmaxScale: MAX_SCALE,\\n\\t\\t\\tpixelRatio: typeof window !== 'undefined' ? Math.min(window.devicePixelRatio || 1, 2) : 1,\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tscalePercent() {\\n\\t\\t\\treturn Math.round(this.scaleFactor * 100)\\n\\t\\t},\\n\\t},\\n\\tasync mounted() {\\n\\t\\tawait this.loadPdf()\\n\\t},\\n\\tbeforeUnmount() {\\n\\t\\tthis.canvasRefs = {}\\n\\t\\tthis.pageWrapRefs = {}\\n\\t\\tif (this.$refs.scrollEl) {\\n\\t\\t\\tthis.$refs.scrollEl.removeEventListener('scroll', this.onScroll)\\n\\t\\t}\\n\\t\\tif (this.pdfDoc && typeof this.pdfDoc.destroy === 'function') {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tthis.pdfDoc.destroy()\\n\\t\\t\\t} catch (_) {}\\n\\t\\t\\tthis.pdfDoc = null\\n\\t\\t}\\n\\t},\\n\\tmethods: {\\n\\t\\tt,\\n\\t\\tsetCanvasRef(el, pageNum) {\\n\\t\\t\\tif (el) this.canvasRefs[pageNum] = el\\n\\t\\t},\\n\\t\\tsetPageWrapRef(el, pageNum) {\\n\\t\\t\\tif (el) this.pageWrapRefs[pageNum] = el\\n\\t\\t},\\n\\t\\tzoomIn() {\\n\\t\\t\\tthis.scaleFactor = Math.min(this.maxScale, this.scaleFactor + ZOOM_STEP)\\n\\t\\t\\tthis.$nextTick(() => this.renderAllPages())\\n\\t\\t},\\n\\t\\tzoomOut() {\\n\\t\\t\\tthis.scaleFactor = Math.max(this.minScale, this.scaleFactor - ZOOM_STEP)\\n\\t\\t\\tthis.$nextTick(() => this.renderAllPages())\\n\\t\\t},\\n\\t\\tfitWidth() {\\n\\t\\t\\tthis.scaleFactor = 1\\n\\t\\t\\tthis.$nextTick(() => this.renderAllPages())\\n\\t\\t},\\n\\t\\tfitPage() {\\n\\t\\t\\tthis.scaleFactor = this.fitPageScale\\n\\t\\t\\tthis.$nextTick(() => this.renderAllPages())\\n\\t\\t},\\n\\t\\tgoToPage(pageNum) {\\n\\t\\t\\tconst n = Math.max(1, Math.min(this.numPages, pageNum))\\n\\t\\t\\tthis.currentPage = n\\n\\t\\t\\tthis.$nextTick(() => {\\n\\t\\t\\t\\tconst el = this.pageWrapRefs[n]\\n\\t\\t\\t\\tif (el && this.$refs.scrollEl) {\\n\\t\\t\\t\\t\\tel.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' })\\n\\t\\t\\t\\t}\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tonScroll() {\\n\\t\\t\\tconst scrollEl = this.$refs.scrollEl\\n\\t\\t\\tif (!scrollEl || this.numPages === 0) return\\n\\t\\t\\tconst scrollLeft = scrollEl.scrollLeft\\n\\t\\t\\tconst viewportCenter = scrollLeft + scrollEl.clientWidth / 2\\n\\t\\t\\tlet page = 1\\n\\t\\t\\tlet bestDist = Infinity\\n\\t\\t\\tfor (let n = 1; n <= this.numPages; n++) {\\n\\t\\t\\t\\tconst wrap = this.pageWrapRefs[n]\\n\\t\\t\\t\\tif (!wrap) continue\\n\\t\\t\\t\\tconst wrapCenter = wrap.offsetLeft + wrap.offsetWidth / 2\\n\\t\\t\\t\\tconst dist = Math.abs(viewportCenter - wrapCenter)\\n\\t\\t\\t\\tif (dist < bestDist) {\\n\\t\\t\\t\\t\\tbestDist = dist\\n\\t\\t\\t\\t\\tpage = n\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\tthis.currentPage = page\\n\\t\\t},\\n\\t\\tasync loadPdf() {\\n\\t\\t\\tthis.loading = true\\n\\t\\t\\tthis.error = ''\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tconst data = await this.blob.arrayBuffer()\\n\\t\\t\\t\\tconst doc = await pdfjsLib.getDocument({ data }).promise\\n\\t\\t\\t\\tthis.pdfDoc = markRaw(doc)\\n\\t\\t\\t\\tthis.numPages = this.pdfDoc.numPages\\n\\t\\t\\t\\tthis.loading = false\\n\\t\\t\\t\\tawait this.$nextTick()\\n\\t\\t\\t\\tawait this.$nextTick()\\n\\t\\t\\t\\tawait this.computeFitPageScale()\\n\\t\\t\\t\\tthis.scaleFactor = this.fitPageScale\\n\\t\\t\\t\\tawait this.renderAllPages()\\n\\t\\t\\t\\tif (this.$refs.scrollEl) {\\n\\t\\t\\t\\t\\tthis.$refs.scrollEl.addEventListener('scroll', this.onScroll, { passive: true })\\n\\t\\t\\t\\t}\\n\\t\\t\\t} catch (e) {\\n\\t\\t\\t\\tthis.error = e.message || t('ereader', 'Failed to load PDF')\\n\\t\\t\\t\\tthis.loading = false\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tasync computeFitPageScale() {\\n\\t\\t\\tif (!this.pdfDoc || !this.$refs.scrollEl) return\\n\\t\\t\\tconst scrollEl = this.$refs.scrollEl\\n\\t\\t\\tconst w = scrollEl.clientWidth || 800\\n\\t\\t\\tconst h = scrollEl.clientHeight || 600\\n\\t\\t\\tconst firstPage = await this.pdfDoc.getPage(1)\\n\\t\\t\\tconst vp = firstPage.getViewport({ scale: 1 })\\n\\t\\t\\tconst scaleW = w / vp.width\\n\\t\\t\\tconst scaleH = h / vp.height\\n\\t\\t\\tthis.fitPageScale = Math.min(scaleW, scaleH, this.maxScale)\\n\\t\\t\\tif (this.scaleFactor === 1) {\\n\\t\\t\\t\\tthis.scaleFactor = this.fitPageScale\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tasync renderAllPages() {\\n\\t\\t\\tif (!this.pdfDoc || !this.$refs.containerEl || !this.$refs.scrollEl) return\\n\\t\\t\\tconst scrollEl = this.$refs.scrollEl\\n\\t\\t\\tconst baseWidth = scrollEl.clientWidth || 800\\n\\t\\t\\tfor (let n = 1; n <= this.numPages; n++) {\\n\\t\\t\\t\\tconst canvas = this.canvasRefs[n]\\n\\t\\t\\t\\tif (!canvas) continue\\n\\t\\t\\t\\tconst page = await this.pdfDoc.getPage(n)\\n\\t\\t\\t\\tconst vp1 = page.getViewport({ scale: 1 })\\n\\t\\t\\t\\tconst baseScale = baseWidth / vp1.width\\n\\t\\t\\t\\tconst effectiveScale = baseScale * this.scaleFactor * this.pixelRatio\\n\\t\\t\\t\\tconst viewport = page.getViewport({ scale: effectiveScale })\\n\\t\\t\\t\\tcanvas.width = viewport.width\\n\\t\\t\\t\\tcanvas.height = viewport.height\\n\\t\\t\\t\\tcanvas.style.width = (viewport.width / this.pixelRatio) + 'px'\\n\\t\\t\\t\\tcanvas.style.height = (viewport.height / this.pixelRatio) + 'px'\\n\\t\\t\\t\\tconst ctx = canvas.getContext('2d')\\n\\t\\t\\t\\tawait page.render({\\n\\t\\t\\t\\t\\tcanvasContext: ctx,\\n\\t\\t\\t\\t\\tviewport,\\n\\t\\t\\t\\t}).promise\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.pdf-viewer {\\n\\tposition: relative;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tbackground: var(--ereader-surface);\\n}\\n\\n.pdf-viewer__toolbar {\\n\\tflex-shrink: 0;\\n\\tdisplay: flex;\\n\\tflex-wrap: wrap;\\n\\talign-items: center;\\n\\tgap: 0.5rem 1rem;\\n\\tpadding: 0.5rem 0.75rem;\\n\\tbackground: var(--ereader-action-bar);\\n\\tcolor: var(--ereader-primary-text);\\n\\tborder-bottom: 1px solid var(--ereader-border);\\n}\\n\\n.pdf-viewer__toolbar-group {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tgap: 0.25rem;\\n}\\n\\n.pdf-viewer__toolbar-group--page {\\n\\tmargin-left: auto;\\n}\\n\\n.pdf-viewer__btn {\\n\\tdisplay: inline-flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tmin-width: 36px;\\n\\theight: 36px;\\n\\tpadding: 0 0.5rem;\\n\\tborder: none;\\n\\tborder-radius: var(--ereader-radius-sm);\\n\\tbackground: transparent;\\n\\tcolor: inherit;\\n\\tcursor: pointer;\\n\\ttransition: background 0.15s;\\n}\\n\\n.pdf-viewer__btn:hover:not(:disabled) {\\n\\tbackground: rgba(255, 255, 255, 0.2);\\n}\\n\\n.pdf-viewer__btn:disabled {\\n\\topacity: 0.5;\\n\\tcursor: not-allowed;\\n}\\n\\n.pdf-viewer__btn--text {\\n\\tfont-size: 0.875rem;\\n}\\n\\n.pdf-viewer__icon {\\n\\twidth: 24px;\\n\\theight: 24px;\\n}\\n\\n.pdf-viewer__scale {\\n\\tmin-width: 3.5em;\\n\\tfont-size: 0.875rem;\\n\\ttext-align: center;\\n}\\n\\n.pdf-viewer__page-indicator {\\n\\tfont-size: 0.875rem;\\n\\twhite-space: nowrap;\\n}\\n\\n.pdf-viewer__scroll {\\n\\tflex: 1;\\n\\tmin-height: 0;\\n\\toverflow-x: auto;\\n\\toverflow-y: auto;\\n\\tscroll-behavior: smooth;\\n\\tscroll-snap-type: x mandatory;\\n}\\n\\n.pdf-viewer__container {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: nowrap;\\n\\talign-items: flex-start;\\n\\tjustify-content: flex-start;\\n\\tpadding: 1rem;\\n\\tgap: 1rem;\\n\\tmin-height: min-content;\\n}\\n\\n.pdf-viewer__page-wrap {\\n\\tflex: 0 0 auto;\\n\\tscroll-snap-align: center;\\n\\tscroll-snap-stop: always;\\n}\\n\\n.pdf-viewer__page {\\n\\tdisplay: block;\\n\\tmax-width: 100%;\\n\\theight: auto;\\n\\tbox-shadow: var(--ereader-card-shadow);\\n}\\n\\n.pdf-viewer__loading,\\n.pdf-viewer__error {\\n\\tposition: absolute;\\n\\tinset: 0;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tpadding: 2rem;\\n\\ttext-align: center;\\n\\tcolor: var(--ereader-text-secondary);\\n\\tbackground: var(--ereader-surface);\\n}\\n\\n.pdf-viewer__error {\\n\\tcolor: var(--ereader-error);\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","class","ref","name","props","url","type","String","required","data","loading","error","rendition","book","mounted","default","ePub","this","ready","renderTo","$refs","viewerEl","width","height","spread","display","e","message","t","beforeUnmount","destroy","methods","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$data","_hoisted_3","_toDisplayString","$options","_hoisted_4","window","pdfjsLib","workerSrc","generateUrl","blob","Blob","numPages","pdfDoc","canvasRefs","pageWrapRefs","scaleFactor","currentPage","minScale","maxScale","pixelRatio","Math","min","devicePixelRatio","computed","scalePercent","round","loadPdf","scrollEl","removeEventListener","onScroll","_","setCanvasRef","el","pageNum","setPageWrapRef","zoomIn","$nextTick","renderAllPages","zoomOut","max","fitWidth","fitPage","fitPageScale","goToPage","n","scrollIntoView","behavior","block","inline","viewportCenter","scrollLeft","clientWidth","page","bestDist","Infinity","wrap","wrapCenter","offsetLeft","offsetWidth","dist","abs","arrayBuffer","doc","promise","markRaw","computeFitPageScale","addEventListener","passive","w","h","clientHeight","vp","getPage","getViewport","scale","scaleW","scaleH","containerEl","baseWidth","canvas","effectiveScale","viewport","style","ctx","getContext","render","canvasContext","components","EpubViewer","PdfViewer","title","disabled","onClick","_cache","args","viewBox","fill","d","_hoisted_5","_hoisted_7","_hoisted_8","_hoisted_9","$event","_hoisted_11","_hoisted_13","_Fragment","_renderList","key","_hoisted_15","_hoisted_16","fileId","Number","loadingPdf","pdfBlob","windowWidth","innerWidth","streamUrl","getStreamUrl","isEpub","$route","query","mime","isMobile","onResize","getStreamBlob","response","status","_createVNode","_component_router_link","to","_createBlock","_component_EpubViewer","_component_PdfViewer"],"ignoreList":[],"sourceRoot":""}