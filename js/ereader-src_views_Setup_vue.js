"use strict";(self.webpackChunkereader=self.webpackChunkereader||[]).push([["src_views_Setup_vue"],{3199(t,e,r){r.d(e,{A:()=>o});var n=r(1354),a=r.n(n),s=r(6314),d=r.n(s)()(a());d.push([t.id,"\n.ereader-setup[data-v-11646ad6] {\n\tpadding: 2rem;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: flex-start;\n\tmin-height: 80vh;\n}\n.ereader-setup__card[data-v-11646ad6] {\n\tbackground: var(--color-main-background, #fff);\n\tborder-radius: var(--border-radius-large, 8px);\n\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\tpadding: 2rem;\n\tmax-width: 480px;\n\twidth: 100%;\n}\n.ereader-setup__title[data-v-11646ad6] {\n\tmargin: 0 0 0.5rem;\n\tfont-size: 1.5rem;\n}\n.ereader-setup__desc[data-v-11646ad6] {\n\tcolor: var(--color-text-lighter, #666);\n\tmargin: 0 0 1.5rem;\n}\n.ereader-setup__breadcrumb[data-v-11646ad6] {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tgap: 0.25rem;\n\tmargin-bottom: 1rem;\n\tfont-size: 0.9rem;\n}\n.ereader-setup__breadcrumb-item[data-v-11646ad6] {\n\tbackground: none;\n\tborder: none;\n\tcolor: var(--color-primary, #0082c9);\n\tcursor: pointer;\n\tpadding: 0.2rem 0.4rem;\n\tborder-radius: 4px;\n}\n.ereader-setup__breadcrumb-item[data-v-11646ad6]:hover {\n\ttext-decoration: underline;\n}\n.ereader-setup__breadcrumb-sep[data-v-11646ad6] {\n\tcolor: var(--color-text-lighter, #999);\n}\n.ereader-setup__actions[data-v-11646ad6] {\n\tmargin-bottom: 1rem;\n}\n.ereader-setup__btn[data-v-11646ad6] {\n\tpadding: 0.5rem 1rem;\n\tborder-radius: var(--border-radius, 4px);\n\tborder: none;\n\tcursor: pointer;\n\tfont-size: 1rem;\n}\n.ereader-setup__btn.primary[data-v-11646ad6] {\n\tbackground: var(--color-primary, #0082c9);\n\tcolor: #fff;\n}\n.ereader-setup__btn[data-v-11646ad6]:disabled {\n\topacity: 0.6;\n\tcursor: not-allowed;\n}\n.ereader-setup__folders[data-v-11646ad6] {\n\tlist-style: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n.ereader-setup__folder[data-v-11646ad6] {\n\tmargin: 0.25rem 0;\n}\n.ereader-setup__folder-btn[data-v-11646ad6] {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.5rem;\n\twidth: 100%;\n\ttext-align: left;\n\tpadding: 0.5rem 0.75rem;\n\tbackground: var(--color-background-hover, #f5f5f5);\n\tborder: none;\n\tborder-radius: 4px;\n\tcursor: pointer;\n\tfont-size: 1rem;\n}\n.ereader-setup__folder-btn[data-v-11646ad6]:hover {\n\tbackground: var(--color-background-dark, #e5e5e5);\n}\n.ereader-setup__folder-icon[data-v-11646ad6] {\n\tfont-size: 1.2rem;\n}\n.ereader-setup__empty[data-v-11646ad6] {\n\tcolor: var(--color-text-lighter, #666);\n\tpadding: 0.5rem 0;\n\tfont-size: 0.9rem;\n}\n.ereader-setup__loading[data-v-11646ad6],\n.ereader-setup__error[data-v-11646ad6] {\n\tmargin: 1rem 0 0;\n}\n.ereader-setup__error[data-v-11646ad6] {\n\tcolor: var(--color-error, #c00);\n}\n","",{version:3,sources:["webpack://./src/views/Setup.vue"],names:[],mappings:";AAwGA;CACC,aAAa;CACb,aAAa;CACb,uBAAuB;CACvB,uBAAuB;CACvB,gBAAgB;AACjB;AACA;CACC,8CAA8C;CAC9C,8CAA8C;CAC9C,wCAAwC;CACxC,aAAa;CACb,gBAAgB;CAChB,WAAW;AACZ;AACA;CACC,kBAAkB;CAClB,iBAAiB;AAClB;AACA;CACC,sCAAsC;CACtC,kBAAkB;AACnB;AACA;CACC,aAAa;CACb,eAAe;CACf,mBAAmB;CACnB,YAAY;CACZ,mBAAmB;CACnB,iBAAiB;AAClB;AACA;CACC,gBAAgB;CAChB,YAAY;CACZ,oCAAoC;CACpC,eAAe;CACf,sBAAsB;CACtB,kBAAkB;AACnB;AACA;CACC,0BAA0B;AAC3B;AACA;CACC,sCAAsC;AACvC;AACA;CACC,mBAAmB;AACpB;AACA;CACC,oBAAoB;CACpB,wCAAwC;CACxC,YAAY;CACZ,eAAe;CACf,eAAe;AAChB;AACA;CACC,yCAAyC;CACzC,WAAW;AACZ;AACA;CACC,YAAY;CACZ,mBAAmB;AACpB;AACA;CACC,gBAAgB;CAChB,SAAS;CACT,UAAU;AACX;AACA;CACC,iBAAiB;AAClB;AACA;CACC,aAAa;CACb,mBAAmB;CACnB,WAAW;CACX,WAAW;CACX,gBAAgB;CAChB,uBAAuB;CACvB,kDAAkD;CAClD,YAAY;CACZ,kBAAkB;CAClB,eAAe;CACf,eAAe;AAChB;AACA;CACC,iDAAiD;AAClD;AACA;CACC,iBAAiB;AAClB;AACA;CACC,sCAAsC;CACtC,iBAAiB;CACjB,iBAAiB;AAClB;AACA;;CAEC,gBAAgB;AACjB;AACA;CACC,+BAA+B;AAChC",sourcesContent:['<template>\n\t<div class="ereader-setup">\n\t\t<div class="ereader-setup__card">\n\t\t\t<h1 class="ereader-setup__title">{{ t(\'ereader\', \'Choose your books folder\') }}</h1>\n\t\t\t<p class="ereader-setup__desc">{{ t(\'ereader\', \'Select the folder where your EPUB and PDF books are stored. You can also scan all your files.\') }}</p>\n\n\t\t\t<div v-if="loading" class="ereader-setup__loading">{{ t(\'ereader\', \'Loading‚Ä¶\') }}</div>\n\n\t\t\t<template v-else>\n\t\t\t\t<div class="ereader-setup__breadcrumb">\n\t\t\t\t\t<button type="button" class="ereader-setup__breadcrumb-item" @click="path = \'\'">\n\t\t\t\t\t\t{{ t(\'ereader\', \'Home\') }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<template v-for="(part, i) in pathParts" :key="i">\n\t\t\t\t\t\t<span class="ereader-setup__breadcrumb-sep">/</span>\n\t\t\t\t\t\t<button type="button" class="ereader-setup__breadcrumb-item" @click="path = pathParts.slice(0, i + 1).join(\'/\')">\n\t\t\t\t\t\t\t{{ part }}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="ereader-setup__actions">\n\t\t\t\t\t<button type="button" class="ereader-setup__btn primary" :disabled="saving" @click="selectCurrent">\n\t\t\t\t\t\t{{ path === \'\' ? t(\'ereader\', \'Scan all my files\') : t(\'ereader\', \'Use this folder\') }}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<ul class="ereader-setup__folders">\n\t\t\t\t\t<li v-for="folder in folders" :key="folder.path" class="ereader-setup__folder">\n\t\t\t\t\t\t<button type="button" class="ereader-setup__folder-btn" @click="path = folder.path">\n\t\t\t\t\t\t\t<span class="ereader-setup__folder-icon">üìÅ</span>\n\t\t\t\t\t\t\t{{ folder.name }}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li v-if="folders.length === 0 && !loading" class="ereader-setup__empty">\n\t\t\t\t\t\t{{ t(\'ereader\', \'No subfolders here. Use the button above to select this folder.\') }}\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</template>\n\n\t\t\t<p v-if="error" class="ereader-setup__error">{{ error }}</p>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { getFolders, setConfig } from \'../router/api\'\nimport { translate as t } from \'@nextcloud/l10n\'\n\nexport default {\n\tname: \'Setup\',\n\tdata() {\n\t\treturn {\n\t\t\tpath: \'\',\n\t\t\tfolders: [],\n\t\t\tloading: true,\n\t\t\tsaving: false,\n\t\t\terror: \'\',\n\t\t}\n\t},\n\tcomputed: {\n\t\tpathParts() {\n\t\t\treturn this.path ? this.path.split(\'/\').filter(Boolean) : []\n\t\t},\n\t},\n\twatch: {\n\t\tpath: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tthis.loadFolders()\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\tt,\n\t\tasync loadFolders() {\n\t\t\tthis.loading = true\n\t\t\tthis.error = \'\'\n\t\t\ttry {\n\t\t\t\tthis.folders = await getFolders(this.path)\n\t\t\t} catch (e) {\n\t\t\t\tthis.error = e.message || this.t(\'ereader\', \'Failed to load folders\')\n\t\t\t\tthis.folders = []\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\tasync selectCurrent() {\n\t\t\tthis.saving = true\n\t\t\tthis.error = \'\'\n\t\t\ttry {\n\t\t\t\tawait setConfig(this.path)\n\t\t\t\tthis.$router.replace({ name: \'Library\' })\n\t\t\t} catch (e) {\n\t\t\t\tthis.error = e.message || this.t(\'ereader\', \'Failed to save\')\n\t\t\t} finally {\n\t\t\t\tthis.saving = false\n\t\t\t}\n\t\t},\n\t},\n}\n<\/script>\n\n<style scoped>\n.ereader-setup {\n\tpadding: 2rem;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: flex-start;\n\tmin-height: 80vh;\n}\n.ereader-setup__card {\n\tbackground: var(--color-main-background, #fff);\n\tborder-radius: var(--border-radius-large, 8px);\n\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\tpadding: 2rem;\n\tmax-width: 480px;\n\twidth: 100%;\n}\n.ereader-setup__title {\n\tmargin: 0 0 0.5rem;\n\tfont-size: 1.5rem;\n}\n.ereader-setup__desc {\n\tcolor: var(--color-text-lighter, #666);\n\tmargin: 0 0 1.5rem;\n}\n.ereader-setup__breadcrumb {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tgap: 0.25rem;\n\tmargin-bottom: 1rem;\n\tfont-size: 0.9rem;\n}\n.ereader-setup__breadcrumb-item {\n\tbackground: none;\n\tborder: none;\n\tcolor: var(--color-primary, #0082c9);\n\tcursor: pointer;\n\tpadding: 0.2rem 0.4rem;\n\tborder-radius: 4px;\n}\n.ereader-setup__breadcrumb-item:hover {\n\ttext-decoration: underline;\n}\n.ereader-setup__breadcrumb-sep {\n\tcolor: var(--color-text-lighter, #999);\n}\n.ereader-setup__actions {\n\tmargin-bottom: 1rem;\n}\n.ereader-setup__btn {\n\tpadding: 0.5rem 1rem;\n\tborder-radius: var(--border-radius, 4px);\n\tborder: none;\n\tcursor: pointer;\n\tfont-size: 1rem;\n}\n.ereader-setup__btn.primary {\n\tbackground: var(--color-primary, #0082c9);\n\tcolor: #fff;\n}\n.ereader-setup__btn:disabled {\n\topacity: 0.6;\n\tcursor: not-allowed;\n}\n.ereader-setup__folders {\n\tlist-style: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n.ereader-setup__folder {\n\tmargin: 0.25rem 0;\n}\n.ereader-setup__folder-btn {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.5rem;\n\twidth: 100%;\n\ttext-align: left;\n\tpadding: 0.5rem 0.75rem;\n\tbackground: var(--color-background-hover, #f5f5f5);\n\tborder: none;\n\tborder-radius: 4px;\n\tcursor: pointer;\n\tfont-size: 1rem;\n}\n.ereader-setup__folder-btn:hover {\n\tbackground: var(--color-background-dark, #e5e5e5);\n}\n.ereader-setup__folder-icon {\n\tfont-size: 1.2rem;\n}\n.ereader-setup__empty {\n\tcolor: var(--color-text-lighter, #666);\n\tpadding: 0.5rem 0;\n\tfont-size: 0.9rem;\n}\n.ereader-setup__loading,\n.ereader-setup__error {\n\tmargin: 1rem 0 0;\n}\n.ereader-setup__error {\n\tcolor: var(--color-error, #c00);\n}\n</style>\n'],sourceRoot:""}]);const o=d},8969(t,e,r){r.r(e),r.d(e,{default:()=>W});var n=r(641),a=r(33);const s={class:"ereader-setup"},d={class:"ereader-setup__card"},o={class:"ereader-setup__title"},i={class:"ereader-setup__desc"},l={key:0,class:"ereader-setup__loading"},A={class:"ereader-setup__breadcrumb"},C=["onClick"],p={class:"ereader-setup__actions"},u=["disabled"],c={class:"ereader-setup__folders"},m=["onClick"],_={key:0,class:"ereader-setup__empty"},b={key:2,class:"ereader-setup__error"};var h=r(249),f=r(3334);const g={name:"Setup",data:()=>({path:"",folders:[],loading:!0,saving:!1,error:""}),computed:{pathParts(){return this.path?this.path.split("/").filter(Boolean):[]}},watch:{path:{immediate:!0,handler(){this.loadFolders()}}},methods:{t:f.Tl,async loadFolders(){this.loading=!0,this.error="";try{this.folders=await(0,h.aq)(this.path)}catch(t){this.error=t.message||this.t("ereader","Failed to load folders"),this.folders=[]}finally{this.loading=!1}},async selectCurrent(){this.saving=!0,this.error="";try{await(0,h.Nk)(this.path),this.$router.replace({name:"Library"})}catch(t){this.error=t.message||this.t("ereader","Failed to save")}finally{this.saving=!1}}}};var v=r(5072),B=r.n(v),k=r(7825),y=r.n(k),x=r(7659),w=r.n(x),F=r(5056),L=r.n(F),z=r(540),E=r.n(z),X=r(1113),Y=r.n(X),P=r(3199),S={};S.styleTagTransform=Y(),S.setAttributes=L(),S.insert=w().bind(null,"head"),S.domAPI=y(),S.insertStyleElement=E();B()(P.A,S);P.A&&P.A.locals&&P.A.locals;const W=(0,r(6262).A)(g,[["render",function(t,e,r,h,f,g){return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("div",d,[(0,n.Lk)("h1",o,(0,a.v_)(g.t("ereader","Choose your books folder")),1),(0,n.Lk)("p",i,(0,a.v_)(g.t("ereader","Select the folder where your EPUB and PDF books are stored. You can also scan all your files.")),1),f.loading?((0,n.uX)(),(0,n.CE)("div",l,(0,a.v_)(g.t("ereader","Loading‚Ä¶")),1)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.Lk)("div",A,[(0,n.Lk)("button",{type:"button",class:"ereader-setup__breadcrumb-item",onClick:e[0]||(e[0]=t=>f.path="")},(0,a.v_)(g.t("ereader","Home")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(g.pathParts,(t,r)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:r},[e[2]||(e[2]=(0,n.Lk)("span",{class:"ereader-setup__breadcrumb-sep"},"/",-1)),(0,n.Lk)("button",{type:"button",class:"ereader-setup__breadcrumb-item",onClick:t=>f.path=g.pathParts.slice(0,r+1).join("/")},(0,a.v_)(t),9,C)],64))),128))]),(0,n.Lk)("div",p,[(0,n.Lk)("button",{type:"button",class:"ereader-setup__btn primary",disabled:f.saving,onClick:e[1]||(e[1]=(...t)=>g.selectCurrent&&g.selectCurrent(...t))},(0,a.v_)(""===f.path?g.t("ereader","Scan all my files"):g.t("ereader","Use this folder")),9,u)]),(0,n.Lk)("ul",c,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(f.folders,t=>((0,n.uX)(),(0,n.CE)("li",{key:t.path,class:"ereader-setup__folder"},[(0,n.Lk)("button",{type:"button",class:"ereader-setup__folder-btn",onClick:e=>f.path=t.path},[e[3]||(e[3]=(0,n.Lk)("span",{class:"ereader-setup__folder-icon"},"üìÅ",-1)),(0,n.eW)(" "+(0,a.v_)(t.name),1)],8,m)]))),128)),0!==f.folders.length||f.loading?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("li",_,(0,a.v_)(g.t("ereader","No subfolders here. Use the button above to select this folder.")),1))])],64)),f.error?((0,n.uX)(),(0,n.CE)("p",b,(0,a.v_)(f.error),1)):(0,n.Q3)("",!0)])])}],["__scopeId","data-v-11646ad6"]])}}]);
//# sourceMappingURL=ereader-src_views_Setup_vue.js.map?v=a1de0d56ba30455a83e4