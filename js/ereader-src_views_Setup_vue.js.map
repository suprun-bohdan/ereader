{"version":3,"file":"ereader-src_views_Setup_vue.js?v=e367d3daaa823a0ba24f","mappings":"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","sources":["webpack:///ereader/src/views/Setup.vue?vue&type=style&index=0&id=0fe6ef79&scoped=true&lang=css","webpack:///ereader/src/views/Setup.vue","webpack://ereader/./src/views/Setup.vue?3fae","webpack://ereader/./src/views/Setup.vue?005b"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.ereader-setup[data-v-0fe6ef79] {\n\tpadding: 2rem;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: flex-start;\n\tmin-height: 80vh;\n}\n.ereader-setup__card[data-v-0fe6ef79] {\n\tbackground: var(--ereader-surface);\n\tborder-radius: var(--ereader-radius);\n\tbox-shadow: var(--ereader-card-shadow);\n\tpadding: 2rem;\n\tmax-width: 480px;\n\twidth: 100%;\n\tborder: 1px solid var(--ereader-border);\n}\n.ereader-setup__title[data-v-0fe6ef79] {\n\tmargin: 0 0 0.5rem;\n\tfont-size: 1.5rem;\n\tcolor: var(--ereader-text);\n}\n.ereader-setup__desc[data-v-0fe6ef79] {\n\tcolor: var(--ereader-text-secondary);\n\tmargin: 0 0 1.5rem;\n}\n.ereader-setup__breadcrumb[data-v-0fe6ef79] {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tgap: 0.25rem;\n\tmargin-bottom: 1rem;\n\tfont-size: 0.9rem;\n}\n.ereader-setup__breadcrumb-item[data-v-0fe6ef79] {\n\tbackground: none;\n\tborder: none;\n\tcolor: var(--ereader-primary);\n\tcursor: pointer;\n\tpadding: 0.35rem 0.5rem;\n\tborder-radius: var(--ereader-radius-sm);\n}\n.ereader-setup__breadcrumb-item[data-v-0fe6ef79]:hover {\n\ttext-decoration: underline;\n\tbackground: var(--ereader-background);\n}\n.ereader-setup__breadcrumb-sep[data-v-0fe6ef79] {\n\tcolor: var(--ereader-text-secondary);\n}\n.ereader-setup__actions[data-v-0fe6ef79] {\n\tmargin-bottom: 1rem;\n}\n.ereader-setup__btn[data-v-0fe6ef79] {\n\tpadding: 0.6rem 1.25rem;\n\tborder-radius: var(--ereader-radius-sm);\n\tborder: none;\n\tcursor: pointer;\n\tfont-size: 1rem;\n\tfont-weight: 500;\n\ttransition: background 0.15s;\n}\n.ereader-setup__btn.primary[data-v-0fe6ef79] {\n\tbackground: var(--ereader-fill-button);\n\tcolor: var(--ereader-primary-text);\n}\n.ereader-setup__btn.primary[data-v-0fe6ef79]:hover:not(:disabled) {\n\tfilter: brightness(1.05);\n}\n.ereader-setup__btn[data-v-0fe6ef79]:disabled {\n\topacity: 0.6;\n\tcursor: not-allowed;\n}\n.ereader-setup__folders[data-v-0fe6ef79] {\n\tlist-style: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n.ereader-setup__folder[data-v-0fe6ef79] {\n\tmargin: 0.25rem 0;\n}\n.ereader-setup__folder-btn[data-v-0fe6ef79] {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.5rem;\n\twidth: 100%;\n\ttext-align: left;\n\tpadding: 0.6rem 0.75rem;\n\tbackground: var(--ereader-background);\n\tborder: 1px solid var(--ereader-border);\n\tborder-radius: var(--ereader-radius-sm);\n\tcursor: pointer;\n\tfont-size: 1rem;\n\tcolor: var(--ereader-text);\n\ttransition: background 0.15s;\n}\n.ereader-setup__folder-btn[data-v-0fe6ef79]:hover {\n\tbackground: var(--ereader-surface);\n\tbox-shadow: var(--ereader-card-shadow);\n}\n.ereader-setup__folder--root[data-v-0fe6ef79] {\n\tmargin-bottom: 0.5rem;\n}\n.ereader-setup__folder-btn--root[data-v-0fe6ef79] {\n\tbackground: var(--ereader-primary);\n\tcolor: var(--ereader-primary-text);\n\tborder-color: var(--ereader-primary);\n\tfont-weight: 600;\n}\n.ereader-setup__folder-btn--root[data-v-0fe6ef79]:hover {\n\tfilter: brightness(1.08);\n}\n.ereader-setup__folder-icon[data-v-0fe6ef79] {\n\tfont-size: 1.2rem;\n}\n.ereader-setup__empty[data-v-0fe6ef79] {\n\tcolor: var(--ereader-text-secondary);\n\tpadding: 0.5rem 0;\n\tfont-size: 0.9rem;\n}\n.ereader-setup__loading[data-v-0fe6ef79],\n.ereader-setup__error[data-v-0fe6ef79] {\n\tmargin: 1rem 0 0;\n}\n.ereader-setup__error[data-v-0fe6ef79] {\n\tcolor: var(--ereader-error);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/Setup.vue\"],\"names\":[],\"mappings\":\";AA4HA;CACC,aAAa;CACb,aAAa;CACb,uBAAuB;CACvB,uBAAuB;CACvB,gBAAgB;AACjB;AACA;CACC,kCAAkC;CAClC,oCAAoC;CACpC,sCAAsC;CACtC,aAAa;CACb,gBAAgB;CAChB,WAAW;CACX,uCAAuC;AACxC;AACA;CACC,kBAAkB;CAClB,iBAAiB;CACjB,0BAA0B;AAC3B;AACA;CACC,oCAAoC;CACpC,kBAAkB;AACnB;AACA;CACC,aAAa;CACb,eAAe;CACf,mBAAmB;CACnB,YAAY;CACZ,mBAAmB;CACnB,iBAAiB;AAClB;AACA;CACC,gBAAgB;CAChB,YAAY;CACZ,6BAA6B;CAC7B,eAAe;CACf,uBAAuB;CACvB,uCAAuC;AACxC;AACA;CACC,0BAA0B;CAC1B,qCAAqC;AACtC;AACA;CACC,oCAAoC;AACrC;AACA;CACC,mBAAmB;AACpB;AACA;CACC,uBAAuB;CACvB,uCAAuC;CACvC,YAAY;CACZ,eAAe;CACf,eAAe;CACf,gBAAgB;CAChB,4BAA4B;AAC7B;AACA;CACC,sCAAsC;CACtC,kCAAkC;AACnC;AACA;CACC,wBAAwB;AACzB;AACA;CACC,YAAY;CACZ,mBAAmB;AACpB;AACA;CACC,gBAAgB;CAChB,SAAS;CACT,UAAU;AACX;AACA;CACC,iBAAiB;AAClB;AACA;CACC,aAAa;CACb,mBAAmB;CACnB,WAAW;CACX,WAAW;CACX,gBAAgB;CAChB,uBAAuB;CACvB,qCAAqC;CACrC,uCAAuC;CACvC,uCAAuC;CACvC,eAAe;CACf,eAAe;CACf,0BAA0B;CAC1B,4BAA4B;AAC7B;AACA;CACC,kCAAkC;CAClC,sCAAsC;AACvC;AACA;CACC,qBAAqB;AACtB;AACA;CACC,kCAAkC;CAClC,kCAAkC;CAClC,oCAAoC;CACpC,gBAAgB;AACjB;AACA;CACC,wBAAwB;AACzB;AACA;CACC,iBAAiB;AAClB;AACA;CACC,oCAAoC;CACpC,iBAAiB;CACjB,iBAAiB;AAClB;AACA;;CAEC,gBAAgB;AACjB;AACA;CACC,2BAA2B;AAC5B\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"ereader-setup\\\">\\n\\t\\t<div class=\\\"ereader-setup__card\\\">\\n\\t\\t\\t<h1 class=\\\"ereader-setup__title\\\">{{ t('ereader', 'Choose your books folder') }}</h1>\\n\\t\\t\\t<p class=\\\"ereader-setup__desc\\\">{{ t('ereader', 'Select the folder where your EPUB and PDF books are stored. You can also scan all your files.') }}</p>\\n\\n\\t\\t\\t<div v-if=\\\"loading\\\" class=\\\"ereader-setup__loading\\\">{{ t('ereader', 'Loading‚Ä¶') }}</div>\\n\\n\\t\\t\\t<template v-else>\\n\\t\\t\\t\\t<p v-if=\\\"error\\\" class=\\\"ereader-setup__error ereader-setup__error--top\\\">{{ error }}</p>\\n\\n\\t\\t\\t\\t<div class=\\\"ereader-setup__breadcrumb\\\">\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"ereader-setup__breadcrumb-item\\\" @click=\\\"path = ''\\\">\\n\\t\\t\\t\\t\\t\\t{{ t('ereader', 'Home') }}\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<template v-for=\\\"(part, i) in pathParts\\\" :key=\\\"i\\\">\\n\\t\\t\\t\\t\\t\\t<span class=\\\"ereader-setup__breadcrumb-sep\\\">/</span>\\n\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"ereader-setup__breadcrumb-item\\\" @click=\\\"path = pathParts.slice(0, i + 1).join('/')\\\">\\n\\t\\t\\t\\t\\t\\t\\t{{ part }}\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<div class=\\\"ereader-setup__actions\\\">\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"ereader-setup__btn primary\\\" :disabled=\\\"saving\\\" @click=\\\"selectCurrent\\\">\\n\\t\\t\\t\\t\\t\\t{{ path === '' ? t('ereader', 'Scan all my files') : t('ereader', 'Use this folder') }}\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<ul class=\\\"ereader-setup__folders\\\">\\n\\t\\t\\t\\t\\t<li class=\\\"ereader-setup__folder ereader-setup__folder--root\\\">\\n\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"ereader-setup__folder-btn ereader-setup__folder-btn--root\\\" @click=\\\"selectCurrent\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"ereader-setup__folder-icon\\\">üìÅ</span>\\n\\t\\t\\t\\t\\t\\t\\t{{ path === '' ? t('ereader', 'My files ‚Äî use as books folder') : t('ereader', 'Use this folder as books location') }}\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t<li v-for=\\\"folder in folders\\\" :key=\\\"folder.path || folder.name\\\" class=\\\"ereader-setup__folder\\\">\\n\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"ereader-setup__folder-btn\\\" @click=\\\"path = folder.path || ''\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"ereader-setup__folder-icon\\\">üìÅ</span>\\n\\t\\t\\t\\t\\t\\t\\t{{ folder.name }}\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t<li v-if=\\\"folders.length === 0 && !loading\\\" class=\\\"ereader-setup__empty\\\">\\n\\t\\t\\t\\t\\t\\t{{ t('ereader', 'No subfolders in this folder. Use the option above to select this location.') }}\\n\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t</template>\\n\\n\\t\\t\\t<p v-if=\\\"error\\\" class=\\\"ereader-setup__error\\\">{{ error }}</p>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport { getFolders, setConfig } from '../router/api'\\nimport { translate as t } from '@nextcloud/l10n'\\n\\nexport default {\\n\\tname: 'Setup',\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tpath: '',\\n\\t\\t\\tfolders: [],\\n\\t\\t\\tloading: true,\\n\\t\\t\\tsaving: false,\\n\\t\\t\\terror: '',\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tpathParts() {\\n\\t\\t\\treturn this.path ? this.path.split('/').filter(Boolean) : []\\n\\t\\t},\\n\\t},\\n\\twatch: {\\n\\t\\tpath: {\\n\\t\\t\\timmediate: true,\\n\\t\\t\\thandler() {\\n\\t\\t\\t\\tthis.loadFolders()\\n\\t\\t\\t},\\n\\t\\t},\\n\\t},\\n\\tmethods: {\\n\\t\\tt,\\n\\t\\tasync loadFolders() {\\n\\t\\t\\tthis.loading = true\\n\\t\\t\\tthis.error = ''\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tconst data = await getFolders(this.path)\\n\\t\\t\\t\\tif (data && typeof data === 'object') {\\n\\t\\t\\t\\t\\tthis.folders = Array.isArray(data.folders) ? data.folders : (Array.isArray(data) ? data : [])\\n\\t\\t\\t\\t\\tthis.error = data.error ? String(data.error) : ''\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tthis.folders = Array.isArray(data) ? data : []\\n\\t\\t\\t\\t\\tthis.error = data && data.error ? String(data.error) : ''\\n\\t\\t\\t\\t}\\n\\t\\t\\t} catch (e) {\\n\\t\\t\\t\\tconst res = e.response\\n\\t\\t\\t\\tconst errBody = res?.data\\n\\t\\t\\t\\tconst errMsg = (errBody && typeof errBody === 'object' && (errBody.error || errBody.message))\\n\\t\\t\\t\\t\\t? (errBody.error || errBody.message)\\n\\t\\t\\t\\t\\t: (res?.data ? String(res.data) : e.message)\\n\\t\\t\\t\\tthis.error = errMsg || this.t('ereader', 'Failed to load folders')\\n\\t\\t\\t\\tthis.folders = []\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tthis.loading = false\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tasync selectCurrent() {\\n\\t\\t\\tthis.saving = true\\n\\t\\t\\tthis.error = ''\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait setConfig(this.path)\\n\\t\\t\\t\\tthis.$router.replace({ name: 'Library' })\\n\\t\\t\\t} catch (e) {\\n\\t\\t\\t\\tthis.error = e.message || this.t('ereader', 'Failed to save')\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tthis.saving = false\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.ereader-setup {\\n\\tpadding: 2rem;\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\talign-items: flex-start;\\n\\tmin-height: 80vh;\\n}\\n.ereader-setup__card {\\n\\tbackground: var(--ereader-surface);\\n\\tborder-radius: var(--ereader-radius);\\n\\tbox-shadow: var(--ereader-card-shadow);\\n\\tpadding: 2rem;\\n\\tmax-width: 480px;\\n\\twidth: 100%;\\n\\tborder: 1px solid var(--ereader-border);\\n}\\n.ereader-setup__title {\\n\\tmargin: 0 0 0.5rem;\\n\\tfont-size: 1.5rem;\\n\\tcolor: var(--ereader-text);\\n}\\n.ereader-setup__desc {\\n\\tcolor: var(--ereader-text-secondary);\\n\\tmargin: 0 0 1.5rem;\\n}\\n.ereader-setup__breadcrumb {\\n\\tdisplay: flex;\\n\\tflex-wrap: wrap;\\n\\talign-items: center;\\n\\tgap: 0.25rem;\\n\\tmargin-bottom: 1rem;\\n\\tfont-size: 0.9rem;\\n}\\n.ereader-setup__breadcrumb-item {\\n\\tbackground: none;\\n\\tborder: none;\\n\\tcolor: var(--ereader-primary);\\n\\tcursor: pointer;\\n\\tpadding: 0.35rem 0.5rem;\\n\\tborder-radius: var(--ereader-radius-sm);\\n}\\n.ereader-setup__breadcrumb-item:hover {\\n\\ttext-decoration: underline;\\n\\tbackground: var(--ereader-background);\\n}\\n.ereader-setup__breadcrumb-sep {\\n\\tcolor: var(--ereader-text-secondary);\\n}\\n.ereader-setup__actions {\\n\\tmargin-bottom: 1rem;\\n}\\n.ereader-setup__btn {\\n\\tpadding: 0.6rem 1.25rem;\\n\\tborder-radius: var(--ereader-radius-sm);\\n\\tborder: none;\\n\\tcursor: pointer;\\n\\tfont-size: 1rem;\\n\\tfont-weight: 500;\\n\\ttransition: background 0.15s;\\n}\\n.ereader-setup__btn.primary {\\n\\tbackground: var(--ereader-fill-button);\\n\\tcolor: var(--ereader-primary-text);\\n}\\n.ereader-setup__btn.primary:hover:not(:disabled) {\\n\\tfilter: brightness(1.05);\\n}\\n.ereader-setup__btn:disabled {\\n\\topacity: 0.6;\\n\\tcursor: not-allowed;\\n}\\n.ereader-setup__folders {\\n\\tlist-style: none;\\n\\tmargin: 0;\\n\\tpadding: 0;\\n}\\n.ereader-setup__folder {\\n\\tmargin: 0.25rem 0;\\n}\\n.ereader-setup__folder-btn {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tgap: 0.5rem;\\n\\twidth: 100%;\\n\\ttext-align: left;\\n\\tpadding: 0.6rem 0.75rem;\\n\\tbackground: var(--ereader-background);\\n\\tborder: 1px solid var(--ereader-border);\\n\\tborder-radius: var(--ereader-radius-sm);\\n\\tcursor: pointer;\\n\\tfont-size: 1rem;\\n\\tcolor: var(--ereader-text);\\n\\ttransition: background 0.15s;\\n}\\n.ereader-setup__folder-btn:hover {\\n\\tbackground: var(--ereader-surface);\\n\\tbox-shadow: var(--ereader-card-shadow);\\n}\\n.ereader-setup__folder--root {\\n\\tmargin-bottom: 0.5rem;\\n}\\n.ereader-setup__folder-btn--root {\\n\\tbackground: var(--ereader-primary);\\n\\tcolor: var(--ereader-primary-text);\\n\\tborder-color: var(--ereader-primary);\\n\\tfont-weight: 600;\\n}\\n.ereader-setup__folder-btn--root:hover {\\n\\tfilter: brightness(1.08);\\n}\\n.ereader-setup__folder-icon {\\n\\tfont-size: 1.2rem;\\n}\\n.ereader-setup__empty {\\n\\tcolor: var(--ereader-text-secondary);\\n\\tpadding: 0.5rem 0;\\n\\tfont-size: 0.9rem;\\n}\\n.ereader-setup__loading,\\n.ereader-setup__error {\\n\\tmargin: 1rem 0 0;\\n}\\n.ereader-setup__error {\\n\\tcolor: var(--ereader-error);\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<template>\n\t<div class=\"ereader-setup\">\n\t\t<div class=\"ereader-setup__card\">\n\t\t\t<h1 class=\"ereader-setup__title\">{{ t('ereader', 'Choose your books folder') }}</h1>\n\t\t\t<p class=\"ereader-setup__desc\">{{ t('ereader', 'Select the folder where your EPUB and PDF books are stored. You can also scan all your files.') }}</p>\n\n\t\t\t<div v-if=\"loading\" class=\"ereader-setup__loading\">{{ t('ereader', 'Loading‚Ä¶') }}</div>\n\n\t\t\t<template v-else>\n\t\t\t\t<p v-if=\"error\" class=\"ereader-setup__error ereader-setup__error--top\">{{ error }}</p>\n\n\t\t\t\t<div class=\"ereader-setup__breadcrumb\">\n\t\t\t\t\t<button type=\"button\" class=\"ereader-setup__breadcrumb-item\" @click=\"path = ''\">\n\t\t\t\t\t\t{{ t('ereader', 'Home') }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<template v-for=\"(part, i) in pathParts\" :key=\"i\">\n\t\t\t\t\t\t<span class=\"ereader-setup__breadcrumb-sep\">/</span>\n\t\t\t\t\t\t<button type=\"button\" class=\"ereader-setup__breadcrumb-item\" @click=\"path = pathParts.slice(0, i + 1).join('/')\">\n\t\t\t\t\t\t\t{{ part }}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"ereader-setup__actions\">\n\t\t\t\t\t<button type=\"button\" class=\"ereader-setup__btn primary\" :disabled=\"saving\" @click=\"selectCurrent\">\n\t\t\t\t\t\t{{ path === '' ? t('ereader', 'Scan all my files') : t('ereader', 'Use this folder') }}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<ul class=\"ereader-setup__folders\">\n\t\t\t\t\t<li class=\"ereader-setup__folder ereader-setup__folder--root\">\n\t\t\t\t\t\t<button type=\"button\" class=\"ereader-setup__folder-btn ereader-setup__folder-btn--root\" @click=\"selectCurrent\">\n\t\t\t\t\t\t\t<span class=\"ereader-setup__folder-icon\">üìÅ</span>\n\t\t\t\t\t\t\t{{ path === '' ? t('ereader', 'My files ‚Äî use as books folder') : t('ereader', 'Use this folder as books location') }}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li v-for=\"folder in folders\" :key=\"folder.path || folder.name\" class=\"ereader-setup__folder\">\n\t\t\t\t\t\t<button type=\"button\" class=\"ereader-setup__folder-btn\" @click=\"path = folder.path || ''\">\n\t\t\t\t\t\t\t<span class=\"ereader-setup__folder-icon\">üìÅ</span>\n\t\t\t\t\t\t\t{{ folder.name }}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li v-if=\"folders.length === 0 && !loading\" class=\"ereader-setup__empty\">\n\t\t\t\t\t\t{{ t('ereader', 'No subfolders in this folder. Use the option above to select this location.') }}\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</template>\n\n\t\t\t<p v-if=\"error\" class=\"ereader-setup__error\">{{ error }}</p>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { getFolders, setConfig } from '../router/api'\nimport { translate as t } from '@nextcloud/l10n'\n\nexport default {\n\tname: 'Setup',\n\tdata() {\n\t\treturn {\n\t\t\tpath: '',\n\t\t\tfolders: [],\n\t\t\tloading: true,\n\t\t\tsaving: false,\n\t\t\terror: '',\n\t\t}\n\t},\n\tcomputed: {\n\t\tpathParts() {\n\t\t\treturn this.path ? this.path.split('/').filter(Boolean) : []\n\t\t},\n\t},\n\twatch: {\n\t\tpath: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tthis.loadFolders()\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\tt,\n\t\tasync loadFolders() {\n\t\t\tthis.loading = true\n\t\t\tthis.error = ''\n\t\t\ttry {\n\t\t\t\tconst data = await getFolders(this.path)\n\t\t\t\tif (data && typeof data === 'object') {\n\t\t\t\t\tthis.folders = Array.isArray(data.folders) ? data.folders : (Array.isArray(data) ? data : [])\n\t\t\t\t\tthis.error = data.error ? String(data.error) : ''\n\t\t\t\t} else {\n\t\t\t\t\tthis.folders = Array.isArray(data) ? data : []\n\t\t\t\t\tthis.error = data && data.error ? String(data.error) : ''\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconst res = e.response\n\t\t\t\tconst errBody = res?.data\n\t\t\t\tconst errMsg = (errBody && typeof errBody === 'object' && (errBody.error || errBody.message))\n\t\t\t\t\t? (errBody.error || errBody.message)\n\t\t\t\t\t: (res?.data ? String(res.data) : e.message)\n\t\t\t\tthis.error = errMsg || this.t('ereader', 'Failed to load folders')\n\t\t\t\tthis.folders = []\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\tasync selectCurrent() {\n\t\t\tthis.saving = true\n\t\t\tthis.error = ''\n\t\t\ttry {\n\t\t\t\tawait setConfig(this.path)\n\t\t\t\tthis.$router.replace({ name: 'Library' })\n\t\t\t} catch (e) {\n\t\t\t\tthis.error = e.message || this.t('ereader', 'Failed to save')\n\t\t\t} finally {\n\t\t\t\tthis.saving = false\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.ereader-setup {\n\tpadding: 2rem;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: flex-start;\n\tmin-height: 80vh;\n}\n.ereader-setup__card {\n\tbackground: var(--ereader-surface);\n\tborder-radius: var(--ereader-radius);\n\tbox-shadow: var(--ereader-card-shadow);\n\tpadding: 2rem;\n\tmax-width: 480px;\n\twidth: 100%;\n\tborder: 1px solid var(--ereader-border);\n}\n.ereader-setup__title {\n\tmargin: 0 0 0.5rem;\n\tfont-size: 1.5rem;\n\tcolor: var(--ereader-text);\n}\n.ereader-setup__desc {\n\tcolor: var(--ereader-text-secondary);\n\tmargin: 0 0 1.5rem;\n}\n.ereader-setup__breadcrumb {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tgap: 0.25rem;\n\tmargin-bottom: 1rem;\n\tfont-size: 0.9rem;\n}\n.ereader-setup__breadcrumb-item {\n\tbackground: none;\n\tborder: none;\n\tcolor: var(--ereader-primary);\n\tcursor: pointer;\n\tpadding: 0.35rem 0.5rem;\n\tborder-radius: var(--ereader-radius-sm);\n}\n.ereader-setup__breadcrumb-item:hover {\n\ttext-decoration: underline;\n\tbackground: var(--ereader-background);\n}\n.ereader-setup__breadcrumb-sep {\n\tcolor: var(--ereader-text-secondary);\n}\n.ereader-setup__actions {\n\tmargin-bottom: 1rem;\n}\n.ereader-setup__btn {\n\tpadding: 0.6rem 1.25rem;\n\tborder-radius: var(--ereader-radius-sm);\n\tborder: none;\n\tcursor: pointer;\n\tfont-size: 1rem;\n\tfont-weight: 500;\n\ttransition: background 0.15s;\n}\n.ereader-setup__btn.primary {\n\tbackground: var(--ereader-fill-button);\n\tcolor: var(--ereader-primary-text);\n}\n.ereader-setup__btn.primary:hover:not(:disabled) {\n\tfilter: brightness(1.05);\n}\n.ereader-setup__btn:disabled {\n\topacity: 0.6;\n\tcursor: not-allowed;\n}\n.ereader-setup__folders {\n\tlist-style: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n.ereader-setup__folder {\n\tmargin: 0.25rem 0;\n}\n.ereader-setup__folder-btn {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.5rem;\n\twidth: 100%;\n\ttext-align: left;\n\tpadding: 0.6rem 0.75rem;\n\tbackground: var(--ereader-background);\n\tborder: 1px solid var(--ereader-border);\n\tborder-radius: var(--ereader-radius-sm);\n\tcursor: pointer;\n\tfont-size: 1rem;\n\tcolor: var(--ereader-text);\n\ttransition: background 0.15s;\n}\n.ereader-setup__folder-btn:hover {\n\tbackground: var(--ereader-surface);\n\tbox-shadow: var(--ereader-card-shadow);\n}\n.ereader-setup__folder--root {\n\tmargin-bottom: 0.5rem;\n}\n.ereader-setup__folder-btn--root {\n\tbackground: var(--ereader-primary);\n\tcolor: var(--ereader-primary-text);\n\tborder-color: var(--ereader-primary);\n\tfont-weight: 600;\n}\n.ereader-setup__folder-btn--root:hover {\n\tfilter: brightness(1.08);\n}\n.ereader-setup__folder-icon {\n\tfont-size: 1.2rem;\n}\n.ereader-setup__empty {\n\tcolor: var(--ereader-text-secondary);\n\tpadding: 0.5rem 0;\n\tfont-size: 0.9rem;\n}\n.ereader-setup__loading,\n.ereader-setup__error {\n\tmargin: 1rem 0 0;\n}\n.ereader-setup__error {\n\tcolor: var(--ereader-error);\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[11].use[0]!./Setup.vue?vue&type=style&index=0&id=0fe6ef79&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[11].use[0]!./Setup.vue?vue&type=style&index=0&id=0fe6ef79&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render } from \"./Setup.vue?vue&type=template&id=0fe6ef79&scoped=true\"\nimport script from \"./Setup.vue?vue&type=script&lang=js\"\nexport * from \"./Setup.vue?vue&type=script&lang=js\"\n\nimport \"./Setup.vue?vue&type=style&index=0&id=0fe6ef79&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0fe6ef79\"]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","push","module","id","class","name","data","path","folders","loading","saving","error","computed","pathParts","this","split","filter","Boolean","watch","immediate","handler","loadFolders","methods","t","getFolders","Array","isArray","String","e","res","response","errBody","errMsg","message","selectCurrent","setConfig","$router","replace","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","$options","_hoisted_4","$data","_hoisted_5","_Fragment","key","_hoisted_6","_hoisted_7","type","onClick","_cache","$event","_renderList","part","i","slice","join","_hoisted_8","_hoisted_9","disabled","args","_hoisted_10","_hoisted_11","_hoisted_12","folder","length","_hoisted_14","_hoisted_15"],"ignoreList":[],"sourceRoot":""}