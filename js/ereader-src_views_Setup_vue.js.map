{"version":3,"file":"ereader-src_views_Setup_vue.js?v=a1de0d56ba30455a83e4","mappings":"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","sources":["webpack:///ereader/src/views/Setup.vue?vue&type=style&index=0&id=11646ad6&scoped=true&lang=css","webpack:///ereader/src/views/Setup.vue","webpack://ereader/./src/views/Setup.vue?e8b8","webpack://ereader/./src/views/Setup.vue?005b"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.ereader-setup[data-v-11646ad6] {\n\tpadding: 2rem;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: flex-start;\n\tmin-height: 80vh;\n}\n.ereader-setup__card[data-v-11646ad6] {\n\tbackground: var(--color-main-background, #fff);\n\tborder-radius: var(--border-radius-large, 8px);\n\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\tpadding: 2rem;\n\tmax-width: 480px;\n\twidth: 100%;\n}\n.ereader-setup__title[data-v-11646ad6] {\n\tmargin: 0 0 0.5rem;\n\tfont-size: 1.5rem;\n}\n.ereader-setup__desc[data-v-11646ad6] {\n\tcolor: var(--color-text-lighter, #666);\n\tmargin: 0 0 1.5rem;\n}\n.ereader-setup__breadcrumb[data-v-11646ad6] {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tgap: 0.25rem;\n\tmargin-bottom: 1rem;\n\tfont-size: 0.9rem;\n}\n.ereader-setup__breadcrumb-item[data-v-11646ad6] {\n\tbackground: none;\n\tborder: none;\n\tcolor: var(--color-primary, #0082c9);\n\tcursor: pointer;\n\tpadding: 0.2rem 0.4rem;\n\tborder-radius: 4px;\n}\n.ereader-setup__breadcrumb-item[data-v-11646ad6]:hover {\n\ttext-decoration: underline;\n}\n.ereader-setup__breadcrumb-sep[data-v-11646ad6] {\n\tcolor: var(--color-text-lighter, #999);\n}\n.ereader-setup__actions[data-v-11646ad6] {\n\tmargin-bottom: 1rem;\n}\n.ereader-setup__btn[data-v-11646ad6] {\n\tpadding: 0.5rem 1rem;\n\tborder-radius: var(--border-radius, 4px);\n\tborder: none;\n\tcursor: pointer;\n\tfont-size: 1rem;\n}\n.ereader-setup__btn.primary[data-v-11646ad6] {\n\tbackground: var(--color-primary, #0082c9);\n\tcolor: #fff;\n}\n.ereader-setup__btn[data-v-11646ad6]:disabled {\n\topacity: 0.6;\n\tcursor: not-allowed;\n}\n.ereader-setup__folders[data-v-11646ad6] {\n\tlist-style: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n.ereader-setup__folder[data-v-11646ad6] {\n\tmargin: 0.25rem 0;\n}\n.ereader-setup__folder-btn[data-v-11646ad6] {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.5rem;\n\twidth: 100%;\n\ttext-align: left;\n\tpadding: 0.5rem 0.75rem;\n\tbackground: var(--color-background-hover, #f5f5f5);\n\tborder: none;\n\tborder-radius: 4px;\n\tcursor: pointer;\n\tfont-size: 1rem;\n}\n.ereader-setup__folder-btn[data-v-11646ad6]:hover {\n\tbackground: var(--color-background-dark, #e5e5e5);\n}\n.ereader-setup__folder-icon[data-v-11646ad6] {\n\tfont-size: 1.2rem;\n}\n.ereader-setup__empty[data-v-11646ad6] {\n\tcolor: var(--color-text-lighter, #666);\n\tpadding: 0.5rem 0;\n\tfont-size: 0.9rem;\n}\n.ereader-setup__loading[data-v-11646ad6],\n.ereader-setup__error[data-v-11646ad6] {\n\tmargin: 1rem 0 0;\n}\n.ereader-setup__error[data-v-11646ad6] {\n\tcolor: var(--color-error, #c00);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/Setup.vue\"],\"names\":[],\"mappings\":\";AAwGA;CACC,aAAa;CACb,aAAa;CACb,uBAAuB;CACvB,uBAAuB;CACvB,gBAAgB;AACjB;AACA;CACC,8CAA8C;CAC9C,8CAA8C;CAC9C,wCAAwC;CACxC,aAAa;CACb,gBAAgB;CAChB,WAAW;AACZ;AACA;CACC,kBAAkB;CAClB,iBAAiB;AAClB;AACA;CACC,sCAAsC;CACtC,kBAAkB;AACnB;AACA;CACC,aAAa;CACb,eAAe;CACf,mBAAmB;CACnB,YAAY;CACZ,mBAAmB;CACnB,iBAAiB;AAClB;AACA;CACC,gBAAgB;CAChB,YAAY;CACZ,oCAAoC;CACpC,eAAe;CACf,sBAAsB;CACtB,kBAAkB;AACnB;AACA;CACC,0BAA0B;AAC3B;AACA;CACC,sCAAsC;AACvC;AACA;CACC,mBAAmB;AACpB;AACA;CACC,oBAAoB;CACpB,wCAAwC;CACxC,YAAY;CACZ,eAAe;CACf,eAAe;AAChB;AACA;CACC,yCAAyC;CACzC,WAAW;AACZ;AACA;CACC,YAAY;CACZ,mBAAmB;AACpB;AACA;CACC,gBAAgB;CAChB,SAAS;CACT,UAAU;AACX;AACA;CACC,iBAAiB;AAClB;AACA;CACC,aAAa;CACb,mBAAmB;CACnB,WAAW;CACX,WAAW;CACX,gBAAgB;CAChB,uBAAuB;CACvB,kDAAkD;CAClD,YAAY;CACZ,kBAAkB;CAClB,eAAe;CACf,eAAe;AAChB;AACA;CACC,iDAAiD;AAClD;AACA;CACC,iBAAiB;AAClB;AACA;CACC,sCAAsC;CACtC,iBAAiB;CACjB,iBAAiB;AAClB;AACA;;CAEC,gBAAgB;AACjB;AACA;CACC,+BAA+B;AAChC\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"ereader-setup\\\">\\n\\t\\t<div class=\\\"ereader-setup__card\\\">\\n\\t\\t\\t<h1 class=\\\"ereader-setup__title\\\">{{ t('ereader', 'Choose your books folder') }}</h1>\\n\\t\\t\\t<p class=\\\"ereader-setup__desc\\\">{{ t('ereader', 'Select the folder where your EPUB and PDF books are stored. You can also scan all your files.') }}</p>\\n\\n\\t\\t\\t<div v-if=\\\"loading\\\" class=\\\"ereader-setup__loading\\\">{{ t('ereader', 'Loading‚Ä¶') }}</div>\\n\\n\\t\\t\\t<template v-else>\\n\\t\\t\\t\\t<div class=\\\"ereader-setup__breadcrumb\\\">\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"ereader-setup__breadcrumb-item\\\" @click=\\\"path = ''\\\">\\n\\t\\t\\t\\t\\t\\t{{ t('ereader', 'Home') }}\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<template v-for=\\\"(part, i) in pathParts\\\" :key=\\\"i\\\">\\n\\t\\t\\t\\t\\t\\t<span class=\\\"ereader-setup__breadcrumb-sep\\\">/</span>\\n\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"ereader-setup__breadcrumb-item\\\" @click=\\\"path = pathParts.slice(0, i + 1).join('/')\\\">\\n\\t\\t\\t\\t\\t\\t\\t{{ part }}\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<div class=\\\"ereader-setup__actions\\\">\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"ereader-setup__btn primary\\\" :disabled=\\\"saving\\\" @click=\\\"selectCurrent\\\">\\n\\t\\t\\t\\t\\t\\t{{ path === '' ? t('ereader', 'Scan all my files') : t('ereader', 'Use this folder') }}\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<ul class=\\\"ereader-setup__folders\\\">\\n\\t\\t\\t\\t\\t<li v-for=\\\"folder in folders\\\" :key=\\\"folder.path\\\" class=\\\"ereader-setup__folder\\\">\\n\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"ereader-setup__folder-btn\\\" @click=\\\"path = folder.path\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"ereader-setup__folder-icon\\\">üìÅ</span>\\n\\t\\t\\t\\t\\t\\t\\t{{ folder.name }}\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t<li v-if=\\\"folders.length === 0 && !loading\\\" class=\\\"ereader-setup__empty\\\">\\n\\t\\t\\t\\t\\t\\t{{ t('ereader', 'No subfolders here. Use the button above to select this folder.') }}\\n\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t</template>\\n\\n\\t\\t\\t<p v-if=\\\"error\\\" class=\\\"ereader-setup__error\\\">{{ error }}</p>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport { getFolders, setConfig } from '../router/api'\\nimport { translate as t } from '@nextcloud/l10n'\\n\\nexport default {\\n\\tname: 'Setup',\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tpath: '',\\n\\t\\t\\tfolders: [],\\n\\t\\t\\tloading: true,\\n\\t\\t\\tsaving: false,\\n\\t\\t\\terror: '',\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tpathParts() {\\n\\t\\t\\treturn this.path ? this.path.split('/').filter(Boolean) : []\\n\\t\\t},\\n\\t},\\n\\twatch: {\\n\\t\\tpath: {\\n\\t\\t\\timmediate: true,\\n\\t\\t\\thandler() {\\n\\t\\t\\t\\tthis.loadFolders()\\n\\t\\t\\t},\\n\\t\\t},\\n\\t},\\n\\tmethods: {\\n\\t\\tt,\\n\\t\\tasync loadFolders() {\\n\\t\\t\\tthis.loading = true\\n\\t\\t\\tthis.error = ''\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tthis.folders = await getFolders(this.path)\\n\\t\\t\\t} catch (e) {\\n\\t\\t\\t\\tthis.error = e.message || this.t('ereader', 'Failed to load folders')\\n\\t\\t\\t\\tthis.folders = []\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tthis.loading = false\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tasync selectCurrent() {\\n\\t\\t\\tthis.saving = true\\n\\t\\t\\tthis.error = ''\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait setConfig(this.path)\\n\\t\\t\\t\\tthis.$router.replace({ name: 'Library' })\\n\\t\\t\\t} catch (e) {\\n\\t\\t\\t\\tthis.error = e.message || this.t('ereader', 'Failed to save')\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tthis.saving = false\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.ereader-setup {\\n\\tpadding: 2rem;\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\talign-items: flex-start;\\n\\tmin-height: 80vh;\\n}\\n.ereader-setup__card {\\n\\tbackground: var(--color-main-background, #fff);\\n\\tborder-radius: var(--border-radius-large, 8px);\\n\\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n\\tpadding: 2rem;\\n\\tmax-width: 480px;\\n\\twidth: 100%;\\n}\\n.ereader-setup__title {\\n\\tmargin: 0 0 0.5rem;\\n\\tfont-size: 1.5rem;\\n}\\n.ereader-setup__desc {\\n\\tcolor: var(--color-text-lighter, #666);\\n\\tmargin: 0 0 1.5rem;\\n}\\n.ereader-setup__breadcrumb {\\n\\tdisplay: flex;\\n\\tflex-wrap: wrap;\\n\\talign-items: center;\\n\\tgap: 0.25rem;\\n\\tmargin-bottom: 1rem;\\n\\tfont-size: 0.9rem;\\n}\\n.ereader-setup__breadcrumb-item {\\n\\tbackground: none;\\n\\tborder: none;\\n\\tcolor: var(--color-primary, #0082c9);\\n\\tcursor: pointer;\\n\\tpadding: 0.2rem 0.4rem;\\n\\tborder-radius: 4px;\\n}\\n.ereader-setup__breadcrumb-item:hover {\\n\\ttext-decoration: underline;\\n}\\n.ereader-setup__breadcrumb-sep {\\n\\tcolor: var(--color-text-lighter, #999);\\n}\\n.ereader-setup__actions {\\n\\tmargin-bottom: 1rem;\\n}\\n.ereader-setup__btn {\\n\\tpadding: 0.5rem 1rem;\\n\\tborder-radius: var(--border-radius, 4px);\\n\\tborder: none;\\n\\tcursor: pointer;\\n\\tfont-size: 1rem;\\n}\\n.ereader-setup__btn.primary {\\n\\tbackground: var(--color-primary, #0082c9);\\n\\tcolor: #fff;\\n}\\n.ereader-setup__btn:disabled {\\n\\topacity: 0.6;\\n\\tcursor: not-allowed;\\n}\\n.ereader-setup__folders {\\n\\tlist-style: none;\\n\\tmargin: 0;\\n\\tpadding: 0;\\n}\\n.ereader-setup__folder {\\n\\tmargin: 0.25rem 0;\\n}\\n.ereader-setup__folder-btn {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tgap: 0.5rem;\\n\\twidth: 100%;\\n\\ttext-align: left;\\n\\tpadding: 0.5rem 0.75rem;\\n\\tbackground: var(--color-background-hover, #f5f5f5);\\n\\tborder: none;\\n\\tborder-radius: 4px;\\n\\tcursor: pointer;\\n\\tfont-size: 1rem;\\n}\\n.ereader-setup__folder-btn:hover {\\n\\tbackground: var(--color-background-dark, #e5e5e5);\\n}\\n.ereader-setup__folder-icon {\\n\\tfont-size: 1.2rem;\\n}\\n.ereader-setup__empty {\\n\\tcolor: var(--color-text-lighter, #666);\\n\\tpadding: 0.5rem 0;\\n\\tfont-size: 0.9rem;\\n}\\n.ereader-setup__loading,\\n.ereader-setup__error {\\n\\tmargin: 1rem 0 0;\\n}\\n.ereader-setup__error {\\n\\tcolor: var(--color-error, #c00);\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<template>\n\t<div class=\"ereader-setup\">\n\t\t<div class=\"ereader-setup__card\">\n\t\t\t<h1 class=\"ereader-setup__title\">{{ t('ereader', 'Choose your books folder') }}</h1>\n\t\t\t<p class=\"ereader-setup__desc\">{{ t('ereader', 'Select the folder where your EPUB and PDF books are stored. You can also scan all your files.') }}</p>\n\n\t\t\t<div v-if=\"loading\" class=\"ereader-setup__loading\">{{ t('ereader', 'Loading‚Ä¶') }}</div>\n\n\t\t\t<template v-else>\n\t\t\t\t<div class=\"ereader-setup__breadcrumb\">\n\t\t\t\t\t<button type=\"button\" class=\"ereader-setup__breadcrumb-item\" @click=\"path = ''\">\n\t\t\t\t\t\t{{ t('ereader', 'Home') }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<template v-for=\"(part, i) in pathParts\" :key=\"i\">\n\t\t\t\t\t\t<span class=\"ereader-setup__breadcrumb-sep\">/</span>\n\t\t\t\t\t\t<button type=\"button\" class=\"ereader-setup__breadcrumb-item\" @click=\"path = pathParts.slice(0, i + 1).join('/')\">\n\t\t\t\t\t\t\t{{ part }}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"ereader-setup__actions\">\n\t\t\t\t\t<button type=\"button\" class=\"ereader-setup__btn primary\" :disabled=\"saving\" @click=\"selectCurrent\">\n\t\t\t\t\t\t{{ path === '' ? t('ereader', 'Scan all my files') : t('ereader', 'Use this folder') }}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<ul class=\"ereader-setup__folders\">\n\t\t\t\t\t<li v-for=\"folder in folders\" :key=\"folder.path\" class=\"ereader-setup__folder\">\n\t\t\t\t\t\t<button type=\"button\" class=\"ereader-setup__folder-btn\" @click=\"path = folder.path\">\n\t\t\t\t\t\t\t<span class=\"ereader-setup__folder-icon\">üìÅ</span>\n\t\t\t\t\t\t\t{{ folder.name }}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li v-if=\"folders.length === 0 && !loading\" class=\"ereader-setup__empty\">\n\t\t\t\t\t\t{{ t('ereader', 'No subfolders here. Use the button above to select this folder.') }}\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</template>\n\n\t\t\t<p v-if=\"error\" class=\"ereader-setup__error\">{{ error }}</p>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { getFolders, setConfig } from '../router/api'\nimport { translate as t } from '@nextcloud/l10n'\n\nexport default {\n\tname: 'Setup',\n\tdata() {\n\t\treturn {\n\t\t\tpath: '',\n\t\t\tfolders: [],\n\t\t\tloading: true,\n\t\t\tsaving: false,\n\t\t\terror: '',\n\t\t}\n\t},\n\tcomputed: {\n\t\tpathParts() {\n\t\t\treturn this.path ? this.path.split('/').filter(Boolean) : []\n\t\t},\n\t},\n\twatch: {\n\t\tpath: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tthis.loadFolders()\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\tt,\n\t\tasync loadFolders() {\n\t\t\tthis.loading = true\n\t\t\tthis.error = ''\n\t\t\ttry {\n\t\t\t\tthis.folders = await getFolders(this.path)\n\t\t\t} catch (e) {\n\t\t\t\tthis.error = e.message || this.t('ereader', 'Failed to load folders')\n\t\t\t\tthis.folders = []\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\tasync selectCurrent() {\n\t\t\tthis.saving = true\n\t\t\tthis.error = ''\n\t\t\ttry {\n\t\t\t\tawait setConfig(this.path)\n\t\t\t\tthis.$router.replace({ name: 'Library' })\n\t\t\t} catch (e) {\n\t\t\t\tthis.error = e.message || this.t('ereader', 'Failed to save')\n\t\t\t} finally {\n\t\t\t\tthis.saving = false\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.ereader-setup {\n\tpadding: 2rem;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: flex-start;\n\tmin-height: 80vh;\n}\n.ereader-setup__card {\n\tbackground: var(--color-main-background, #fff);\n\tborder-radius: var(--border-radius-large, 8px);\n\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\tpadding: 2rem;\n\tmax-width: 480px;\n\twidth: 100%;\n}\n.ereader-setup__title {\n\tmargin: 0 0 0.5rem;\n\tfont-size: 1.5rem;\n}\n.ereader-setup__desc {\n\tcolor: var(--color-text-lighter, #666);\n\tmargin: 0 0 1.5rem;\n}\n.ereader-setup__breadcrumb {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tgap: 0.25rem;\n\tmargin-bottom: 1rem;\n\tfont-size: 0.9rem;\n}\n.ereader-setup__breadcrumb-item {\n\tbackground: none;\n\tborder: none;\n\tcolor: var(--color-primary, #0082c9);\n\tcursor: pointer;\n\tpadding: 0.2rem 0.4rem;\n\tborder-radius: 4px;\n}\n.ereader-setup__breadcrumb-item:hover {\n\ttext-decoration: underline;\n}\n.ereader-setup__breadcrumb-sep {\n\tcolor: var(--color-text-lighter, #999);\n}\n.ereader-setup__actions {\n\tmargin-bottom: 1rem;\n}\n.ereader-setup__btn {\n\tpadding: 0.5rem 1rem;\n\tborder-radius: var(--border-radius, 4px);\n\tborder: none;\n\tcursor: pointer;\n\tfont-size: 1rem;\n}\n.ereader-setup__btn.primary {\n\tbackground: var(--color-primary, #0082c9);\n\tcolor: #fff;\n}\n.ereader-setup__btn:disabled {\n\topacity: 0.6;\n\tcursor: not-allowed;\n}\n.ereader-setup__folders {\n\tlist-style: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n.ereader-setup__folder {\n\tmargin: 0.25rem 0;\n}\n.ereader-setup__folder-btn {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.5rem;\n\twidth: 100%;\n\ttext-align: left;\n\tpadding: 0.5rem 0.75rem;\n\tbackground: var(--color-background-hover, #f5f5f5);\n\tborder: none;\n\tborder-radius: 4px;\n\tcursor: pointer;\n\tfont-size: 1rem;\n}\n.ereader-setup__folder-btn:hover {\n\tbackground: var(--color-background-dark, #e5e5e5);\n}\n.ereader-setup__folder-icon {\n\tfont-size: 1.2rem;\n}\n.ereader-setup__empty {\n\tcolor: var(--color-text-lighter, #666);\n\tpadding: 0.5rem 0;\n\tfont-size: 0.9rem;\n}\n.ereader-setup__loading,\n.ereader-setup__error {\n\tmargin: 1rem 0 0;\n}\n.ereader-setup__error {\n\tcolor: var(--color-error, #c00);\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[11].use[0]!./Setup.vue?vue&type=style&index=0&id=11646ad6&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[11].use[0]!./Setup.vue?vue&type=style&index=0&id=11646ad6&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render } from \"./Setup.vue?vue&type=template&id=11646ad6&scoped=true\"\nimport script from \"./Setup.vue?vue&type=script&lang=js\"\nexport * from \"./Setup.vue?vue&type=script&lang=js\"\n\nimport \"./Setup.vue?vue&type=style&index=0&id=11646ad6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-11646ad6\"]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","push","module","id","class","name","data","path","folders","loading","saving","error","computed","pathParts","this","split","filter","Boolean","watch","immediate","handler","loadFolders","methods","t","getFolders","e","message","selectCurrent","setConfig","$router","replace","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","$options","_hoisted_4","$data","_hoisted_5","_Fragment","key","_hoisted_6","type","onClick","_cache","$event","_renderList","part","i","slice","join","_hoisted_7","_hoisted_8","disabled","args","_hoisted_9","_hoisted_10","folder","length","_hoisted_12","_hoisted_13"],"ignoreList":[],"sourceRoot":""}