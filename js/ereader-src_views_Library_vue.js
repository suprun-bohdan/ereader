"use strict";(self.webpackChunkereader=self.webpackChunkereader||[]).push([["src_views_Library_vue"],{1069(r,e,t){t.r(e),t.d(e,{default:()=>X});var a=t(641),n=t(33);const i={class:"ereader-library"},o={class:"ereader-library__header"},l={class:"ereader-library__title"},d={key:0,class:"ereader-library__loading"},A={key:1,class:"ereader-library__error"},s={key:2,class:"ereader-library__list"},c={class:"ereader-library__cover"},b={class:"ereader-library__cover-icon"},C={class:"ereader-library__name"},_={key:0,class:"ereader-library__empty"};var m=t(249),y=t(3334);const k={name:"Library",data:()=>({books:[],loading:!0,error:""}),async mounted(){try{this.books=await(0,m.zy)()}catch(r){this.error=r.message||this.t("ereader","Failed to load books")}finally{this.loading=!1}},methods:{t:y.Tl}};var g=t(5072),v=t.n(g),u=t(7825),p=t.n(u),f=t(7659),B=t.n(f),h=t(5056),x=t.n(h),D=t(540),w=t.n(D),L=t(1113),E=t.n(L),q=t(9290),S={};S.styleTagTransform=E(),S.setAttributes=x(),S.insert=B().bind(null,"head"),S.domAPI=p(),S.insertStyleElement=w();v()(q.A,S);q.A&&q.A.locals&&q.A.locals;const X=(0,t(6262).A)(k,[["render",function(r,e,t,m,y,k){const g=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("header",o,[(0,a.Lk)("h1",l,(0,n.v_)(k.t("ereader","Library")),1)]),y.loading?((0,a.uX)(),(0,a.CE)("div",d,(0,n.v_)(k.t("ereader","Loadingâ€¦")),1)):y.error?((0,a.uX)(),(0,a.CE)("div",A,(0,n.v_)(y.error),1)):((0,a.uX)(),(0,a.CE)("ul",s,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(y.books,r=>((0,a.uX)(),(0,a.CE)("li",{key:r.id,class:"ereader-library__item"},[(0,a.bF)(g,{to:{name:"Read",params:{fileId:r.id},query:{mime:r.mime}},class:"ereader-library__link"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",c,[(0,a.Lk)("span",b,(0,n.v_)("application/pdf"===r.mime?"ðŸ“•":"ðŸ“˜"),1)]),(0,a.Lk)("span",C,(0,n.v_)(r.name),1)]),_:2},1032,["to"])]))),128)),0===y.books.length?((0,a.uX)(),(0,a.CE)("li",_,(0,n.v_)(k.t("ereader","No books found. Add EPUB or PDF files to your books folder.")),1)):(0,a.Q3)("",!0)]))])}],["__scopeId","data-v-7f69bc0a"]])},9290(r,e,t){t.d(e,{A:()=>l});var a=t(1354),n=t.n(a),i=t(6314),o=t.n(i)()(n());o.push([r.id,"\n.ereader-library[data-v-7f69bc0a] {\n\tpadding: 1.5rem;\n}\n.ereader-library__header[data-v-7f69bc0a] {\n\tmargin-bottom: 1.5rem;\n}\n.ereader-library__title[data-v-7f69bc0a] {\n\tmargin: 0;\n\tfont-size: 1.5rem;\n}\n.ereader-library__list[data-v-7f69bc0a] {\n\tlist-style: none;\n\tmargin: 0;\n\tpadding: 0;\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fill, minmax(140px, 1fr));\n\tgap: 1rem;\n}\n.ereader-library__item[data-v-7f69bc0a] {\n\tmargin: 0;\n}\n.ereader-library__link[data-v-7f69bc0a] {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\ttext-decoration: none;\n\tcolor: var(--color-main-text, #000);\n\tpadding: 0.75rem;\n\tborder-radius: 8px;\n\tbackground: var(--color-background-hover, #f5f5f5);\n\ttransition: background 0.2s;\n}\n.ereader-library__link[data-v-7f69bc0a]:hover {\n\tbackground: var(--color-background-dark, #e5e5e5);\n}\n.ereader-library__cover[data-v-7f69bc0a] {\n\twidth: 80px;\n\theight: 110px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground: var(--color-background-dark, #e0e0e0);\n\tborder-radius: 4px;\n\tmargin-bottom: 0.5rem;\n}\n.ereader-library__cover-icon[data-v-7f69bc0a] {\n\tfont-size: 2.5rem;\n}\n.ereader-library__name[data-v-7f69bc0a] {\n\tfont-size: 0.9rem;\n\ttext-align: center;\n\tword-break: break-word;\n}\n.ereader-library__loading[data-v-7f69bc0a],\n.ereader-library__error[data-v-7f69bc0a],\n.ereader-library__empty[data-v-7f69bc0a] {\n\tpadding: 2rem;\n\ttext-align: center;\n\tcolor: var(--color-text-lighter, #666);\n}\n.ereader-library__error[data-v-7f69bc0a] {\n\tcolor: var(--color-error, #c00);\n}\n","",{version:3,sources:["webpack://./src/views/Library.vue"],names:[],mappings:";AAqDA;CACC,eAAe;AAChB;AACA;CACC,qBAAqB;AACtB;AACA;CACC,SAAS;CACT,iBAAiB;AAClB;AACA;CACC,gBAAgB;CAChB,SAAS;CACT,UAAU;CACV,aAAa;CACb,4DAA4D;CAC5D,SAAS;AACV;AACA;CACC,SAAS;AACV;AACA;CACC,aAAa;CACb,sBAAsB;CACtB,mBAAmB;CACnB,qBAAqB;CACrB,mCAAmC;CACnC,gBAAgB;CAChB,kBAAkB;CAClB,kDAAkD;CAClD,2BAA2B;AAC5B;AACA;CACC,iDAAiD;AAClD;AACA;CACC,WAAW;CACX,aAAa;CACb,aAAa;CACb,mBAAmB;CACnB,uBAAuB;CACvB,iDAAiD;CACjD,kBAAkB;CAClB,qBAAqB;AACtB;AACA;CACC,iBAAiB;AAClB;AACA;CACC,iBAAiB;CACjB,kBAAkB;CAClB,sBAAsB;AACvB;AACA;;;CAGC,aAAa;CACb,kBAAkB;CAClB,sCAAsC;AACvC;AACA;CACC,+BAA+B;AAChC",sourcesContent:['<template>\n\t<div class="ereader-library">\n\t\t<header class="ereader-library__header">\n\t\t\t<h1 class="ereader-library__title">{{ t(\'ereader\', \'Library\') }}</h1>\n\t\t</header>\n\n\t\t<div v-if="loading" class="ereader-library__loading">{{ t(\'ereader\', \'Loadingâ€¦\') }}</div>\n\t\t<div v-else-if="error" class="ereader-library__error">{{ error }}</div>\n\t\t<ul v-else class="ereader-library__list">\n\t\t\t<li v-for="book in books" :key="book.id" class="ereader-library__item">\n\t\t\t\t<router-link :to="{ name: \'Read\', params: { fileId: book.id }, query: { mime: book.mime } }" class="ereader-library__link">\n\t\t\t\t\t<div class="ereader-library__cover">\n\t\t\t\t\t\t<span class="ereader-library__cover-icon">{{ book.mime === \'application/pdf\' ? \'ðŸ“•\' : \'ðŸ“˜\' }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="ereader-library__name">{{ book.name }}</span>\n\t\t\t\t</router-link>\n\t\t\t</li>\n\t\t\t<li v-if="books.length === 0" class="ereader-library__empty">\n\t\t\t\t{{ t(\'ereader\', \'No books found. Add EPUB or PDF files to your books folder.\') }}\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</template>\n\n<script>\nimport { getBooks } from \'../router/api\'\nimport { translate as t } from \'@nextcloud/l10n\'\n\nexport default {\n\tname: \'Library\',\n\tdata() {\n\t\treturn {\n\t\t\tbooks: [],\n\t\t\tloading: true,\n\t\t\terror: \'\',\n\t\t}\n\t},\n\tasync mounted() {\n\t\ttry {\n\t\t\tthis.books = await getBooks()\n\t\t} catch (e) {\n\t\t\tthis.error = e.message || this.t(\'ereader\', \'Failed to load books\')\n\t\t} finally {\n\t\t\tthis.loading = false\n\t\t}\n\t},\n\tmethods: {\n\t\tt,\n\t},\n}\n<\/script>\n\n<style scoped>\n.ereader-library {\n\tpadding: 1.5rem;\n}\n.ereader-library__header {\n\tmargin-bottom: 1.5rem;\n}\n.ereader-library__title {\n\tmargin: 0;\n\tfont-size: 1.5rem;\n}\n.ereader-library__list {\n\tlist-style: none;\n\tmargin: 0;\n\tpadding: 0;\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fill, minmax(140px, 1fr));\n\tgap: 1rem;\n}\n.ereader-library__item {\n\tmargin: 0;\n}\n.ereader-library__link {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\ttext-decoration: none;\n\tcolor: var(--color-main-text, #000);\n\tpadding: 0.75rem;\n\tborder-radius: 8px;\n\tbackground: var(--color-background-hover, #f5f5f5);\n\ttransition: background 0.2s;\n}\n.ereader-library__link:hover {\n\tbackground: var(--color-background-dark, #e5e5e5);\n}\n.ereader-library__cover {\n\twidth: 80px;\n\theight: 110px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground: var(--color-background-dark, #e0e0e0);\n\tborder-radius: 4px;\n\tmargin-bottom: 0.5rem;\n}\n.ereader-library__cover-icon {\n\tfont-size: 2.5rem;\n}\n.ereader-library__name {\n\tfont-size: 0.9rem;\n\ttext-align: center;\n\tword-break: break-word;\n}\n.ereader-library__loading,\n.ereader-library__error,\n.ereader-library__empty {\n\tpadding: 2rem;\n\ttext-align: center;\n\tcolor: var(--color-text-lighter, #666);\n}\n.ereader-library__error {\n\tcolor: var(--color-error, #c00);\n}\n</style>\n'],sourceRoot:""}]);const l=o}}]);
//# sourceMappingURL=ereader-src_views_Library_vue.js.map?v=8454a084827291f068f4