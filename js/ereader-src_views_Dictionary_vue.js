"use strict";(self.webpackChunkereader=self.webpackChunkereader||[]).push([["src_views_Dictionary_vue"],{5290(t,e,r){r.r(e),r.d(e,{default:()=>W});var n=r(641),a=r(33),d=r(3751);const i={class:"ereader-dictionary"},o={class:"ereader-dictionary__header"},s={class:"ereader-dictionary__title"},A={class:"ereader-dictionary__desc"},c={key:0,class:"ereader-dictionary__loading"},l={key:1,class:"ereader-dictionary__error"},C={key:2,class:"ereader-dictionary__list"},y={class:"ereader-dictionary__word"},v={class:"ereader-dictionary__row"},_=["onUpdate:modelValue","placeholder","onBlur"],m=["title","onClick"],u={key:0,class:"ereader-dictionary__empty"};var h=r(249),g=r(3334);const p={name:"Dictionary",data:()=>({entries:[],loading:!0,error:"",savingId:null}),async mounted(){await this.load()},methods:{t:g.Tl,async load(){this.loading=!0,this.error="";try{this.entries=await(0,h.TW)()}catch(t){this.error=t.message||(0,g.Tl)("ereader","Failed to load dictionary")}finally{this.loading=!1}},async saveTranslation(t){if(this.savingId!==t.id){this.savingId=t.id;try{await(0,h.ys)(t.id,t.translation||null)}catch(t){this.error=t.message||(0,g.Tl)("ereader","Failed to save")}finally{this.savingId=null}}},async removeEntry(t){try{await(0,h.ef)(t.id),this.entries=this.entries.filter(e=>e.id!==t.id)}catch(t){this.error=t.message||(0,g.Tl)("ereader","Failed to remove")}}}};var b=r(5072),B=r.n(b),k=r(7825),f=r.n(k),x=r(7659),w=r.n(x),E=r(5056),T=r.n(E),D=r(540),I=r.n(D),L=r(1113),X=r.n(L),z=r(5594),U={};U.styleTagTransform=X(),U.setAttributes=T(),U.insert=w().bind(null,"head"),U.domAPI=f(),U.insertStyleElement=I();B()(z.A,U);z.A&&z.A.locals&&z.A.locals;const W=(0,r(6262).A)(p,[["render",function(t,e,r,h,g,p){return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("header",o,[(0,n.Lk)("h1",s,(0,a.v_)(p.t("ereader","Dictionary")),1),(0,n.Lk)("p",A,(0,a.v_)(p.t("ereader","Words you add from books. Add Ukrainian translation and save.")),1)]),g.loading?((0,n.uX)(),(0,n.CE)("div",c,(0,a.v_)(p.t("ereader","Loading…")),1)):g.error?((0,n.uX)(),(0,n.CE)("div",l,(0,a.v_)(g.error),1)):((0,n.uX)(),(0,n.CE)("ul",C,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(g.entries,t=>((0,n.uX)(),(0,n.CE)("li",{key:t.id,class:"ereader-dictionary__item"},[(0,n.Lk)("div",y,(0,a.v_)(t.word),1),(0,n.Lk)("div",v,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e=>t.translation=e,type:"text",class:"ereader-dictionary__input",placeholder:p.t("ereader","Ukrainian translation"),onBlur:e=>p.saveTranslation(t)},null,40,_),[[d.Jo,t.translation]]),(0,n.Lk)("button",{type:"button",class:"ereader-dictionary__btn-delete",title:p.t("ereader","Remove from dictionary"),onClick:e=>p.removeEntry(t)},[...e[0]||(e[0]=[(0,n.Lk)("svg",{class:"ereader-dictionary__icon",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[(0,n.Lk)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1)])],8,m)])]))),128)),0===g.entries.length?((0,n.uX)(),(0,n.CE)("li",u,(0,a.v_)(p.t("ereader",'No words yet. Select text in a book and click "Add to dictionary".')),1)):(0,n.Q3)("",!0)]))])}],["__scopeId","data-v-6a66712b"]])},5594(t,e,r){r.d(e,{A:()=>o});var n=r(1354),a=r.n(n),d=r(6314),i=r.n(d)()(a());i.push([t.id,"\n.ereader-dictionary[data-v-6a66712b] {\n\tpadding: 1.5rem;\n\tmax-width: 640px;\n}\n.ereader-dictionary__header[data-v-6a66712b] {\n\tmargin-bottom: 1.5rem;\n}\n.ereader-dictionary__title[data-v-6a66712b] {\n\tmargin: 0 0 0.25rem;\n\tfont-size: 1.5rem;\n\tcolor: var(--ereader-text);\n}\n.ereader-dictionary__desc[data-v-6a66712b] {\n\tmargin: 0;\n\tfont-size: 0.9rem;\n\tcolor: var(--ereader-text-secondary);\n}\n.ereader-dictionary__list[data-v-6a66712b] {\n\tlist-style: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n.ereader-dictionary__item[data-v-6a66712b] {\n\tmargin-bottom: 1rem;\n\tpadding: 0.75rem 1rem;\n\tbackground: var(--ereader-surface);\n\tborder-radius: var(--ereader-radius);\n\tbox-shadow: var(--ereader-card-shadow);\n\tborder: 1px solid var(--ereader-border);\n}\n.ereader-dictionary__word[data-v-6a66712b] {\n\tfont-weight: 600;\n\tcolor: var(--ereader-text);\n\tmargin-bottom: 0.5rem;\n\tword-break: break-word;\n}\n.ereader-dictionary__row[data-v-6a66712b] {\n\tdisplay: flex;\n\tgap: 0.5rem;\n\talign-items: center;\n}\n.ereader-dictionary__input[data-v-6a66712b] {\n\tflex: 1;\n\tpadding: 0.4rem 0.5rem;\n\tfont-size: 1rem;\n\tborder: 1px solid var(--ereader-border);\n\tborder-radius: var(--ereader-radius-sm);\n\tbackground: var(--ereader-surface);\n\tcolor: var(--ereader-text);\n}\n.ereader-dictionary__input[data-v-6a66712b]::placeholder {\n\tcolor: var(--ereader-text-secondary);\n}\n.ereader-dictionary__btn-delete[data-v-6a66712b] {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 36px;\n\theight: 36px;\n\tpadding: 0;\n\tborder: none;\n\tborder-radius: var(--ereader-radius-sm);\n\tbackground: transparent;\n\tcolor: var(--ereader-text-secondary);\n\tcursor: pointer;\n}\n.ereader-dictionary__btn-delete[data-v-6a66712b]:hover {\n\tbackground: var(--ereader-background);\n\tcolor: var(--ereader-error);\n}\n.ereader-dictionary__icon[data-v-6a66712b] {\n\twidth: 20px;\n\theight: 20px;\n}\n.ereader-dictionary__loading[data-v-6a66712b],\n.ereader-dictionary__error[data-v-6a66712b],\n.ereader-dictionary__empty[data-v-6a66712b] {\n\tpadding: 2rem;\n\ttext-align: center;\n\tcolor: var(--ereader-text-secondary);\n}\n.ereader-dictionary__error[data-v-6a66712b] {\n\tcolor: var(--ereader-error);\n}\n","",{version:3,sources:["webpack://./src/views/Dictionary.vue"],names:[],mappings:";AA6FA;CACC,eAAe;CACf,gBAAgB;AACjB;AAEA;CACC,qBAAqB;AACtB;AAEA;CACC,mBAAmB;CACnB,iBAAiB;CACjB,0BAA0B;AAC3B;AAEA;CACC,SAAS;CACT,iBAAiB;CACjB,oCAAoC;AACrC;AAEA;CACC,gBAAgB;CAChB,SAAS;CACT,UAAU;AACX;AAEA;CACC,mBAAmB;CACnB,qBAAqB;CACrB,kCAAkC;CAClC,oCAAoC;CACpC,sCAAsC;CACtC,uCAAuC;AACxC;AAEA;CACC,gBAAgB;CAChB,0BAA0B;CAC1B,qBAAqB;CACrB,sBAAsB;AACvB;AAEA;CACC,aAAa;CACb,WAAW;CACX,mBAAmB;AACpB;AAEA;CACC,OAAO;CACP,sBAAsB;CACtB,eAAe;CACf,uCAAuC;CACvC,uCAAuC;CACvC,kCAAkC;CAClC,0BAA0B;AAC3B;AAEA;CACC,oCAAoC;AACrC;AAEA;CACC,aAAa;CACb,mBAAmB;CACnB,uBAAuB;CACvB,WAAW;CACX,YAAY;CACZ,UAAU;CACV,YAAY;CACZ,uCAAuC;CACvC,uBAAuB;CACvB,oCAAoC;CACpC,eAAe;AAChB;AAEA;CACC,qCAAqC;CACrC,2BAA2B;AAC5B;AAEA;CACC,WAAW;CACX,YAAY;AACb;AAEA;;;CAGC,aAAa;CACb,kBAAkB;CAClB,oCAAoC;AACrC;AAEA;CACC,2BAA2B;AAC5B",sourcesContent:['<template>\n\t<div class="ereader-dictionary">\n\t\t<header class="ereader-dictionary__header">\n\t\t\t<h1 class="ereader-dictionary__title">{{ t(\'ereader\', \'Dictionary\') }}</h1>\n\t\t\t<p class="ereader-dictionary__desc">{{ t(\'ereader\', \'Words you add from books. Add Ukrainian translation and save.\') }}</p>\n\t\t</header>\n\n\t\t<div v-if="loading" class="ereader-dictionary__loading">{{ t(\'ereader\', \'Loading…\') }}</div>\n\t\t<div v-else-if="error" class="ereader-dictionary__error">{{ error }}</div>\n\t\t<ul v-else class="ereader-dictionary__list">\n\t\t\t<li v-for="entry in entries" :key="entry.id" class="ereader-dictionary__item">\n\t\t\t\t<div class="ereader-dictionary__word">{{ entry.word }}</div>\n\t\t\t\t<div class="ereader-dictionary__row">\n\t\t\t\t\t<input\n\t\t\t\t\t\tv-model="entry.translation"\n\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\tclass="ereader-dictionary__input"\n\t\t\t\t\t\t:placeholder="t(\'ereader\', \'Ukrainian translation\')"\n\t\t\t\t\t\t@blur="saveTranslation(entry)"\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\tclass="ereader-dictionary__btn-delete"\n\t\t\t\t\t\t:title="t(\'ereader\', \'Remove from dictionary\')"\n\t\t\t\t\t\t@click="removeEntry(entry)"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg class="ereader-dictionary__icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">\n\t\t\t\t\t\t\t<path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li v-if="entries.length === 0" class="ereader-dictionary__empty">\n\t\t\t\t{{ t(\'ereader\', \'No words yet. Select text in a book and click "Add to dictionary".\') }}\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</template>\n\n<script>\nimport { getDictionary, updateDictionaryEntry, deleteDictionaryEntry } from \'../router/api\'\nimport { translate as t } from \'@nextcloud/l10n\'\n\nexport default {\n\tname: \'Dictionary\',\n\tdata() {\n\t\treturn {\n\t\t\tentries: [],\n\t\t\tloading: true,\n\t\t\terror: \'\',\n\t\t\tsavingId: null,\n\t\t}\n\t},\n\tasync mounted() {\n\t\tawait this.load()\n\t},\n\tmethods: {\n\t\tt,\n\t\tasync load() {\n\t\t\tthis.loading = true\n\t\t\tthis.error = \'\'\n\t\t\ttry {\n\t\t\t\tthis.entries = await getDictionary()\n\t\t\t} catch (e) {\n\t\t\t\tthis.error = e.message || t(\'ereader\', \'Failed to load dictionary\')\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\tasync saveTranslation(entry) {\n\t\t\tif (this.savingId === entry.id) return\n\t\t\tthis.savingId = entry.id\n\t\t\ttry {\n\t\t\t\tawait updateDictionaryEntry(entry.id, entry.translation || null)\n\t\t\t} catch (e) {\n\t\t\t\tthis.error = e.message || t(\'ereader\', \'Failed to save\')\n\t\t\t} finally {\n\t\t\t\tthis.savingId = null\n\t\t\t}\n\t\t},\n\t\tasync removeEntry(entry) {\n\t\t\ttry {\n\t\t\t\tawait deleteDictionaryEntry(entry.id)\n\t\t\t\tthis.entries = this.entries.filter((e) => e.id !== entry.id)\n\t\t\t} catch (e) {\n\t\t\t\tthis.error = e.message || t(\'ereader\', \'Failed to remove\')\n\t\t\t}\n\t\t},\n\t},\n}\n<\/script>\n\n<style scoped>\n.ereader-dictionary {\n\tpadding: 1.5rem;\n\tmax-width: 640px;\n}\n\n.ereader-dictionary__header {\n\tmargin-bottom: 1.5rem;\n}\n\n.ereader-dictionary__title {\n\tmargin: 0 0 0.25rem;\n\tfont-size: 1.5rem;\n\tcolor: var(--ereader-text);\n}\n\n.ereader-dictionary__desc {\n\tmargin: 0;\n\tfont-size: 0.9rem;\n\tcolor: var(--ereader-text-secondary);\n}\n\n.ereader-dictionary__list {\n\tlist-style: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.ereader-dictionary__item {\n\tmargin-bottom: 1rem;\n\tpadding: 0.75rem 1rem;\n\tbackground: var(--ereader-surface);\n\tborder-radius: var(--ereader-radius);\n\tbox-shadow: var(--ereader-card-shadow);\n\tborder: 1px solid var(--ereader-border);\n}\n\n.ereader-dictionary__word {\n\tfont-weight: 600;\n\tcolor: var(--ereader-text);\n\tmargin-bottom: 0.5rem;\n\tword-break: break-word;\n}\n\n.ereader-dictionary__row {\n\tdisplay: flex;\n\tgap: 0.5rem;\n\talign-items: center;\n}\n\n.ereader-dictionary__input {\n\tflex: 1;\n\tpadding: 0.4rem 0.5rem;\n\tfont-size: 1rem;\n\tborder: 1px solid var(--ereader-border);\n\tborder-radius: var(--ereader-radius-sm);\n\tbackground: var(--ereader-surface);\n\tcolor: var(--ereader-text);\n}\n\n.ereader-dictionary__input::placeholder {\n\tcolor: var(--ereader-text-secondary);\n}\n\n.ereader-dictionary__btn-delete {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 36px;\n\theight: 36px;\n\tpadding: 0;\n\tborder: none;\n\tborder-radius: var(--ereader-radius-sm);\n\tbackground: transparent;\n\tcolor: var(--ereader-text-secondary);\n\tcursor: pointer;\n}\n\n.ereader-dictionary__btn-delete:hover {\n\tbackground: var(--ereader-background);\n\tcolor: var(--ereader-error);\n}\n\n.ereader-dictionary__icon {\n\twidth: 20px;\n\theight: 20px;\n}\n\n.ereader-dictionary__loading,\n.ereader-dictionary__error,\n.ereader-dictionary__empty {\n\tpadding: 2rem;\n\ttext-align: center;\n\tcolor: var(--ereader-text-secondary);\n}\n\n.ereader-dictionary__error {\n\tcolor: var(--ereader-error);\n}\n</style>\n'],sourceRoot:""}]);const o=i}}]);
//# sourceMappingURL=ereader-src_views_Dictionary_vue.js.map?v=ffc51b49e5e1ede5ab77